/*! For license information please see app.js.LICENSE.txt */
(()=>{var e={577:function(e,t,i){e.exports=function(){"use strict";class t{constructor(e,t){this.handsfree=e,this.config=t,this.data={},this.dependenciesLoaded=!1,this.enabled=t.enabled,this.plugins=[],this.gestures=[],this.gestureEstimator=null,setTimeout((()=>{const e=this.getData;this.getData=async()=>{let t=await e.apply(this,arguments)||{};return t.gesture=this.getGesture(),this.runPlugins(),t};let t=this.getGesture;this.getGesture=()=>(t||(t=function(){}),t.apply(this,arguments))}),0)}loadDependencies(){}updateData(){}updateGestureEstimator(){}enable(e=!0){this.handsfree.config[this.name]=this.config,this.handsfree.config[this.name].enabled=this.enabled=!0,document.body.classList.add(`handsfree-model-${this.name}`),e&&!this.dependenciesLoaded&&this.loadDependencies(),"weboji"===this.name&&(this.handsfree.debug.$canvas.weboji.style.display="block")}disable(){this.handsfree.config[this.name]=this.config,this.handsfree.config[this.name].enabled=this.enabled=!1,document.body.classList.remove(`handsfree-model-${this.name}`),setTimeout((()=>{var e;"weboji"===this.name?this.handsfree.debug.$canvas.weboji.style.display="none":(null===(e=this.handsfree.debug.context[this.name])||void 0===e?void 0:e.clearRect)&&this.handsfree.debug.context[this.name].clearRect(0,0,this.handsfree.debug.$canvas[this.name].width,this.handsfree.debug.$canvas[this.name].height),Object.keys(this.handsfree.model).some((e=>this.handsfree.model[e].enabled))||this.handsfree.stop()}),0)}loadDependency(e,t,i=!1){if(i)return void(t&&t());const n=document.createElement("script");n.async=!0,n.onload=()=>{t&&t()},n.onerror=()=>{this.handsfree.emit("modelError",`Error loading ${e}`)},n.src=e,document.body.appendChild(n)}runPlugins(){this.data&&("handpose"!==this.name||this.data.annotations)&&Object.keys(this.data).length&&this.plugins.forEach((e=>{var t;this.handsfree.plugin[e].enabled&&(null===(t=this.handsfree.plugin[e])||void 0===t||t.onFrame(this.handsfree.data))}))}}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&i.path)}},i.exports),i.exports}var a=s(r((function(e,t){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i.r(t);var n={};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.r(n),i.d(n,"VictoryGesture",(function(){return P})),i.d(n,"ThumbsUpGesture",(function(){return k}));var r={Thumb:0,Index:1,Middle:2,Ring:3,Pinky:4,all:[0,1,2,3,4],nameMapping:{0:"Thumb",1:"Index",2:"Middle",3:"Ring",4:"Pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(e){return void 0!==s(this.nameMapping[e])&&this.nameMapping[e]},getPoints:function(e){return void 0!==s(this.pointsMapping[e])&&this.pointsMapping[e]}},a={NoCurl:0,HalfCurl:1,FullCurl:2,nameMapping:{0:"No Curl",1:"Half Curl",2:"Full Curl"},getName:function(e){return void 0!==s(this.nameMapping[e])&&this.nameMapping[e]}},o={VerticalUp:0,VerticalDown:1,HorizontalLeft:2,HorizontalRight:3,DiagonalUpRight:4,DiagonalUpLeft:5,DiagonalDownRight:6,DiagonalDownLeft:7,nameMapping:{0:"Vertical Up",1:"Vertical Down",2:"Horizontal Left",3:"Horizontal Right",4:"Diagonal Up Right",5:"Diagonal Up Left",6:"Diagonal Down Right",7:"Diagonal Down Left"},getName:function(e){return void 0!==s(this.nameMapping[e])&&this.nameMapping[e]}};function h(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,r=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw s}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},{HALF_CURL_START_LIMIT:60,NO_CURL_START_LIMIT:130,DISTANCE_VOTE_POWER:1.1,SINGLE_ANGLE_VOTE_POWER:.9,TOTAL_ANGLE_VOTE_POWER:1.6},{},t)}var t;return(t=[{key:"estimate",value:function(e){var t,i=[],n=[],s=h(r.all);try{for(s.s();!(t=s.n()).done;){var a,o=t.value,l=r.getPoints(o),d=[],c=[],u=h(l);try{for(u.s();!(a=u.n()).done;){var f=a.value,p=e[f[0]],m=e[f[1]],g=this.getSlopes(p,m),_=g[0],v=g[1];d.push(_),c.push(v)}}catch(e){u.e(e)}finally{u.f()}i.push(d),n.push(c)}}catch(e){s.e(e)}finally{s.f()}var y,b=[],w=[],T=h(r.all);try{for(T.s();!(y=T.n()).done;){var P=y.value,E=P==r.Thumb?1:0,S=r.getPoints(P),x=e[S[E][0]],D=e[S[E+1][1]],k=e[S[3][1]],j=this.estimateFingerCurl(x,D,k),R=this.calculateFingerDirection(x,D,k,i[P].slice(E));b[P]=j,w[P]=R}}catch(e){T.e(e)}finally{T.f()}return{curls:b,directions:w}}},{key:"getSlopes",value:function(e,t){var i=this.calculateSlope(e[0],e[1],t[0],t[1]);return 2==e.length?i:[i,this.calculateSlope(e[1],e[2],t[1],t[2])]}},{key:"angleOrientationAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=0,n=0,s=0;return e>=75&&e<=105?i=1*t:e>=25&&e<=155?n=1*t:s=1*t,[i,n,s]}},{key:"estimateFingerCurl",value:function(e,t,i){var n=e[0]-t[0],s=e[0]-i[0],r=t[0]-i[0],o=e[1]-t[1],h=e[1]-i[1],l=t[1]-i[1],d=e[2]-t[2],c=e[2]-i[2],u=t[2]-i[2],f=Math.sqrt(n*n+o*o+d*d),p=Math.sqrt(s*s+h*h+c*c),m=Math.sqrt(r*r+l*l+u*u),g=(m*m+f*f-p*p)/(2*m*f);g>1?g=1:g<-1&&(g=-1);var _=Math.acos(g);return(_=57.2958*_%180)>this.options.NO_CURL_START_LIMIT?a.NoCurl:_>this.options.HALF_CURL_START_LIMIT?a.HalfCurl:a.FullCurl}},{key:"estimateHorizontalDirection",value:function(e,t,i,n){return n==Math.abs(e)?e>0?o.HorizontalLeft:o.HorizontalRight:n==Math.abs(t)?t>0?o.HorizontalLeft:o.HorizontalRight:i>0?o.HorizontalLeft:o.HorizontalRight}},{key:"estimateVerticalDirection",value:function(e,t,i,n){return n==Math.abs(e)?e<0?o.VerticalDown:o.VerticalUp:n==Math.abs(t)?t<0?o.VerticalDown:o.VerticalUp:i<0?o.VerticalDown:o.VerticalUp}},{key:"estimateDiagonalDirection",value:function(e,t,i,n,s,r,a,h){var l=this.estimateVerticalDirection(e,t,i,n),d=this.estimateHorizontalDirection(s,r,a,h);return l==o.VerticalUp?d==o.HorizontalLeft?o.DiagonalUpLeft:o.DiagonalUpRight:d==o.HorizontalLeft?o.DiagonalDownLeft:o.DiagonalDownRight}},{key:"calculateFingerDirection",value:function(e,t,i,n){var s=e[0]-t[0],r=e[0]-i[0],a=t[0]-i[0],o=e[1]-t[1],l=e[1]-i[1],d=t[1]-i[1],c=Math.max(Math.abs(s),Math.abs(r),Math.abs(a)),u=Math.max(Math.abs(o),Math.abs(l),Math.abs(d)),f=0,p=0,m=0,g=u/(c+1e-5);g>1.5?f+=this.options.DISTANCE_VOTE_POWER:g>.66?p+=this.options.DISTANCE_VOTE_POWER:m+=this.options.DISTANCE_VOTE_POWER;var _=Math.sqrt(s*s+o*o),v=Math.sqrt(r*r+l*l),y=Math.sqrt(a*a+d*d),b=Math.max(_,v,y),w=e[0],T=e[1],P=i[0],E=i[1];b==_?(P=i[0],E=i[1]):b==y&&(w=t[0],T=t[1]);var S=[w,T],x=[P,E],D=this.getSlopes(S,x),k=this.angleOrientationAt(D,this.options.TOTAL_ANGLE_VOTE_POWER);f+=k[0],p+=k[1],m+=k[2];var j,R=h(n);try{for(R.s();!(j=R.n()).done;){var C=j.value,$=this.angleOrientationAt(C,this.options.SINGLE_ANGLE_VOTE_POWER);f+=$[0],p+=$[1],m+=$[2]}}catch(e){R.e(e)}finally{R.f()}return f==Math.max(f,p,m)?this.estimateVerticalDirection(l,o,d,u):m==Math.max(p,m)?this.estimateHorizontalDirection(r,s,a,c):this.estimateDiagonalDirection(l,o,d,u,r,s,a,c)}},{key:"calculateSlope",value:function(e,t,i,n){var s=(t-n)/(e-i),r=180*Math.atan(s)/Math.PI;return r<=0?r=-r:r>0&&(r=180-r),r}}])&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function f(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(e,t):void 0}}(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,r=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw s}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,e),this.estimator=new u(i),this.gestures=t}var t;return(t=[{key:"estimate",value:function(e,t){var i,n=[],s=this.estimator.estimate(e),h=[],l=f(r.all);try{for(l.s();!(i=l.n()).done;){var d=i.value;h.push([r.getName(d),a.getName(s.curls[d]),o.getName(s.directions[d])])}}catch(e){l.e(e)}finally{l.f()}var c,u=f(this.gestures);try{for(u.s();!(c=u.n()).done;){var p=c.value,m=p.matchAgainst(s.curls,s.directions);m>=t&&n.push({name:p.name,confidence:m})}}catch(e){u.e(e)}finally{u.f()}return{poseData:h,gestures:n}}}])&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,s=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw r}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=y(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,r=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw s}}}}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.curls={},this.directions={},this.weights=[1,1,1,1,1],this.weightsRelative=[1,1,1,1,1]}var t;return(t=[{key:"addCurl",value:function(e,t,i){void 0===this.curls[e]&&(this.curls[e]=[]),this.curls[e].push([t,i])}},{key:"addDirection",value:function(e,t,i){void 0===this.directions[e]&&(this.directions[e]=[]),this.directions[e].push([t,i])}},{key:"setWeight",value:function(e,t){this.weights[e]=t;var i=this.weights.reduce((function(e,t){return e+t}),0);this.weightsRelative=this.weights.map((function(e){return 5*e/i}))}},{key:"matchAgainst",value:function(e,t){var i=0;for(var n in e){var s=e[n],r=this.curls[n];if(void 0!==r){var a,o=v(r);try{for(o.s();!(a=o.n()).done;){var h=_(a.value,2),l=h[0],d=h[1];if(s==l){i+=d*this.weightsRelative[n];break}}}catch(e){o.e(e)}finally{o.f()}}else i+=this.weightsRelative[n]}for(var c in t){var u=t[c],f=this.directions[c];if(void 0!==f){var p,m=v(f);try{for(m.s();!(p=m.n()).done;){var g=_(p.value,2),y=g[0],b=g[1];if(u==y){i+=b*this.weightsRelative[c];break}}}catch(e){m.e(e)}finally{m.f()}}else i+=this.weightsRelative[c]}return i}}])&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}(),T=new w("victory");T.addCurl(r.Thumb,a.HalfCurl,.5),T.addCurl(r.Thumb,a.NoCurl,.5),T.addDirection(r.Thumb,o.VerticalUp,1),T.addDirection(r.Thumb,o.DiagonalUpLeft,1),T.addCurl(r.Index,a.NoCurl,1),T.addDirection(r.Index,o.VerticalUp,.75),T.addDirection(r.Index,o.DiagonalUpLeft,1),T.addCurl(r.Middle,a.NoCurl,1),T.addDirection(r.Middle,o.VerticalUp,1),T.addDirection(r.Middle,o.DiagonalUpLeft,.75),T.addCurl(r.Ring,a.FullCurl,1),T.addDirection(r.Ring,o.VerticalUp,.2),T.addDirection(r.Ring,o.DiagonalUpLeft,1),T.addDirection(r.Ring,o.HorizontalLeft,.2),T.addCurl(r.Pinky,a.FullCurl,1),T.addDirection(r.Pinky,o.VerticalUp,.2),T.addDirection(r.Pinky,o.DiagonalUpLeft,1),T.addDirection(r.Pinky,o.HorizontalLeft,.2),T.setWeight(r.Index,2),T.setWeight(r.Middle,2);var P=T,E=new w("thumbs_up");E.addCurl(r.Thumb,a.NoCurl,1),E.addDirection(r.Thumb,o.VerticalUp,1),E.addDirection(r.Thumb,o.DiagonalUpLeft,.25),E.addDirection(r.Thumb,o.DiagonalUpRight,.25);for(var S=0,x=[r.Index,r.Middle,r.Ring,r.Pinky];S<x.length;S++){var D=x[S];E.addCurl(D,a.FullCurl,1),E.addDirection(D,o.HorizontalLeft,1),E.addDirection(D,o.HorizontalRight,1)}var k=E;t.default={GestureEstimator:g,GestureDescription:w,Finger:r,FingerCurl:a,FingerDirection:o,Gestures:n}}]).default},e.exports=i()})));class o extends t{constructor(e,t){super(e,t),this.name="hands",this.palmPoints=[0,5,9,13,17],this.gestureEstimator=new a.GestureEstimator([])}loadDependencies(e){this.handsfree.config.isClient?this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,(()=>{this.onWarmUp(e)}),!!window.drawConnectors):this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/hands/hands.js`,(()=>{this.api=new window.Hands({locateFile:e=>`${this.handsfree.config.assetsPath}/@mediapipe/hands/${e}`}),this.api.setOptions(this.handsfree.config.hands),this.api.onResults((e=>this.dataReceived(e))),this.handsfree.getUserMedia((()=>{this.handsfree.mediapipeWarmups.isWarmingUp?this.handsfree.on("mediapipeWarmedUp",(()=>{this.handsfree.mediapipeWarmups.isWarmingUp||this.handsfree.mediapipeWarmups[this.name]||this.warmUp(e)})):this.warmUp(e)})),this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,null,!!window.drawConnectors)}))}warmUp(e){this.handsfree.mediapipeWarmups[this.name]=!0,this.handsfree.mediapipeWarmups.isWarmingUp=!0,this.api.send({image:this.handsfree.debug.$video}).then((()=>{this.handsfree.mediapipeWarmups.isWarmingUp=!1,this.onWarmUp(e)}))}onWarmUp(e){this.dependenciesLoaded=!0,document.body.classList.add("handsfree-model-hands"),this.handsfree.emit("modelReady",this),this.handsfree.emit("handsModelReady",this),this.handsfree.emit("mediapipeWarmedUp",this),e&&e(this)}async getData(){return this.dependenciesLoaded&&await this.api.send({image:this.handsfree.debug.$video}),this.data}dataReceived(e){e.multiHandLandmarks&&(e=this.getCenterOfPalm(e)),e=this.forceHandedness(e),this.data=e,this.handsfree.data.hands=e,this.handsfree.isDebugging&&this.debug(e)}forceHandedness(e){return e.landmarks=[[],[],[],[]],e.landmarksVisible=[!1,!1,!1,!1],e.multiHandLandmarks?(e.multiHandLandmarks.forEach(((t,i)=>{let n;n=i<2?"Right"===e.multiHandedness[i].label?0:1:"Right"===e.multiHandedness[i].label?2:3,e.landmarks[n]=t,e.landmarksVisible[n]=!0})),e):e}getCenterOfPalm(e){return e.multiHandLandmarks.forEach(((t,i)=>{let n=0,s=0;this.palmPoints.forEach((e=>{n+=t[e].x,s+=t[e].y})),n/=this.palmPoints.length,s/=this.palmPoints.length,e.multiHandLandmarks[i][21]={x:n,y:s}})),e}debug(e){if("undefined"!=typeof drawConnectors&&(this.handsfree.debug.context.hands.clearRect(0,0,this.handsfree.debug.$canvas.hands.width,this.handsfree.debug.$canvas.hands.height),e.multiHandLandmarks))for(const t of e.multiHandLandmarks)drawConnectors(this.handsfree.debug.context.hands,t,HAND_CONNECTIONS,{color:"#00FF00",lineWidth:5}),drawLandmarks(this.handsfree.debug.context.hands,t,{color:"#FF0000",lineWidth:2})}updateGestureEstimator(){const e=[],t=[];this.gestures.forEach((t=>{if(this.handsfree.gesture[t].enabled&&(e.push(t),!this.handsfree.gesture[t].compiledDescription&&this.handsfree.gesture[t].enabled)){const e=new a.GestureDescription(t);this.handsfree.gesture[t].description.forEach((t=>{switch(t[0]){case"addCurl":e[t[0]](a.Finger[t[1]],a.FingerCurl[t[2]],t[3]);break;case"addDirection":e[t[0]](a.Finger[t[1]],a.FingerDirection[t[2]],t[3]);break;case"setWeight":e[t[0]](a.Finger[t[1]],t[2])}})),this.handsfree.gesture[t].compiledDescription=e}})),e.forEach((e=>{t.push(this.handsfree.gesture[e].compiledDescription)})),e.length&&(this.gestureEstimator=new a.GestureEstimator(t))}getGesture(){let e=[null,null,null,null];return this.data.landmarks.forEach(((t,i)=>{if(this.data.landmarksVisible[i]){const n=[];for(let e=0;e<21;e++)n.push([t[e].x*window.outerWidth,t[e].y*window.outerHeight,0]);const s=this.gestureEstimator.estimate(n,7.5);if(s.gestures.length?e[i]=s.gestures.reduce(((e,t)=>{const i=this.handsfree.gesture[t.name].confidence;return t.confidence>=i&&t.confidence>e.confidence?t:e})):e[i]={name:"",confidence:0},e[i].name){const t=this.handsfree.gesture[e[i].name].confidence;e[i].confidence<t&&(e[i]={name:"",confidence:0})}e[i].pose=s.poseData}})),e}}class h extends t{constructor(e,t){super(e,t),this.name="facemesh",this.isWarmedUp=!1}loadDependencies(e){this.handsfree.config.isClient?this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,(()=>{this.onWarmUp(e)}),!!window.drawConnectors):this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/face_mesh/face_mesh.js`,(()=>{this.api=new window.FaceMesh({locateFile:e=>`${this.handsfree.config.assetsPath}/@mediapipe/face_mesh/${e}`}),this.api.setOptions(this.handsfree.config.facemesh),this.api.onResults((e=>this.dataReceived(e))),this.handsfree.getUserMedia((()=>{this.handsfree.mediapipeWarmups.isWarmingUp?this.handsfree.on("mediapipeWarmedUp",(()=>{this.handsfree.mediapipeWarmups.isWarmingUp||this.handsfree.mediapipeWarmups[this.name]||this.warmUp(e)})):this.warmUp(e)})),this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,null,!!window.drawConnectors)}))}warmUp(e){this.handsfree.mediapipeWarmups[this.name]=!0,this.handsfree.mediapipeWarmups.isWarmingUp=!0,this.api.send({image:this.handsfree.debug.$video}).then((()=>{this.handsfree.mediapipeWarmups.isWarmingUp=!1,this.onWarmUp(e)}))}onWarmUp(e){this.dependenciesLoaded=!0,document.body.classList.add("handsfree-model-facemesh"),this.handsfree.emit("modelReady",this),this.handsfree.emit("facemeshModelReady",this),this.handsfree.emit("mediapipeWarmedUp",this),e&&e(this)}async getData(){this.dependenciesLoaded&&await this.api.send({image:this.handsfree.debug.$video})}dataReceived(e){this.data=e,this.handsfree.data.facemesh=e,this.handsfree.isDebugging&&this.debug(e)}debug(e){if("undefined"!=typeof drawConnectors&&(this.handsfree.debug.context.facemesh.clearRect(0,0,this.handsfree.debug.$canvas.facemesh.width,this.handsfree.debug.$canvas.facemesh.height),e.multiFaceLandmarks))for(const t of e.multiFaceLandmarks)drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_TESSELATION,{color:"#C0C0C070",lineWidth:1}),drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_RIGHT_EYE,{color:"#FF3030"}),drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_RIGHT_EYEBROW,{color:"#FF3030"}),drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_LEFT_EYE,{color:"#30FF30"}),drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_LEFT_EYEBROW,{color:"#30FF30"}),drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_FACE_OVAL,{color:"#E0E0E0"}),drawConnectors(this.handsfree.debug.context.facemesh,t,FACEMESH_LIPS,{color:"#E0E0E0"})}}class l extends t{constructor(e,t){super(e,t),this.name="pose",this.hasLoadedAndRun=!1,this.palmPoints=[0,1,2,5,9,13,17]}loadDependencies(e){this.handsfree.config.isClient?this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,(()=>{this.onWarmUp(e)}),!!window.drawConnectors):this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/pose/pose.js`,(()=>{this.api=new window.Pose({locateFile:e=>`${this.handsfree.config.assetsPath}/@mediapipe/pose/${e}`}),this.api.setOptions(this.handsfree.config.pose),this.api.onResults((e=>this.dataReceived(e))),this.handsfree.getUserMedia((()=>{this.handsfree.mediapipeWarmups.isWarmingUp?this.handsfree.on("mediapipeWarmedUp",(()=>{this.handsfree.mediapipeWarmups.isWarmingUp||this.handsfree.mediapipeWarmups[this.name]||this.warmUp(e)})):this.warmUp(e)})),this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,null,!!window.drawConnectors)}))}warmUp(e){this.handsfree.mediapipeWarmups[this.name]=!0,this.handsfree.mediapipeWarmups.isWarmingUp=!0,this.api.send({image:this.handsfree.debug.$video}).then((()=>{this.handsfree.mediapipeWarmups.isWarmingUp=!1,this.onWarmUp(e)}))}onWarmUp(e){this.dependenciesLoaded=!0,document.body.classList.add("handsfree-model-pose"),this.handsfree.emit("modelReady",this),this.handsfree.emit("poseModelReady",this),this.handsfree.emit("mediapipeWarmedUp",this),e&&e(this)}async getData(){this.dependenciesLoaded&&await this.api.send({image:this.handsfree.debug.$video})}dataReceived(e){this.data=e,this.handsfree.data.pose=e,this.handsfree.isDebugging&&this.debug(e)}debug(e){this.handsfree.debug.context.pose.clearRect(0,0,this.handsfree.debug.$canvas.pose.width,this.handsfree.debug.$canvas.pose.height),e.poseLandmarks&&(drawConnectors(this.handsfree.debug.context.pose,e.poseLandmarks,POSE_CONNECTIONS,{color:"#00FF00",lineWidth:4}),drawLandmarks(this.handsfree.debug.context.pose,e.poseLandmarks,{color:"#FF0000",lineWidth:2}))}}class d extends t{constructor(e,t){super(e,t),this.name="handpose",this.three={scene:null,camera:null,renderer:null,meshes:[]},this.normalized=[],this.palmPoints=[0,1,2,5,9,13,17],this.gestureEstimator=new a.GestureEstimator([])}loadDependencies(e){this.loadDependency(`${this.handsfree.config.assetsPath}/three/three.min.js`,(()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow/tf-core.js`,(()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow/tf-converter.js`,(()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow/tf-backend-${this.handsfree.config.handpose.backend}.js`,(()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow-models/handpose/handpose.js`,(()=>{this.handsfree.getUserMedia((async()=>{await window.tf.setBackend(this.handsfree.config.handpose.backend),this.api=await handpose.load(this.handsfree.config.handpose.model),this.setup3D(),e&&e(this),this.dependenciesLoaded=!0,this.handsfree.emit("modelReady",this),this.handsfree.emit("handposeModelReady",this),document.body.classList.add("handsfree-model-handpose")}))}))}))}))}),!!window.tf)}),!!window.THREE)}async getData(){if(!this.handsfree.debug.$video)return;const e=await this.api.estimateHands(this.handsfree.debug.$video);return this.handsfree.data.handpose=this.data={...e[0],normalized:this.normalized,meshes:this.three.meshes},e[0]&&this.updateMeshes(this.data),this.three.renderer.render(this.three.scene,this.three.camera),this.data}setup3D(){this.three={scene:new window.THREE.Scene,camera:new window.THREE.PerspectiveCamera(90,window.outerWidth/window.outerHeight,.1,1e3),renderer:new THREE.WebGLRenderer({alpha:!0,canvas:this.handsfree.debug.$canvas.handpose}),meshes:[]},this.three.renderer.setSize(window.outerWidth,window.outerHeight),this.three.camera.position.z=this.handsfree.debug.$video.videoWidth/4,this.three.camera.lookAt(new window.THREE.Vector3(0,0,0)),this.three.screen=new window.THREE.Mesh(new window.THREE.BoxGeometry(window.outerWidth,window.outerHeight,1),new window.THREE.MeshNormalMaterial),this.three.screen.position.z=300,this.three.scene.add(this.three.screen),this.three.raycaster=new window.THREE.Raycaster,this.three.arrow=new window.THREE.ArrowHelper(this.three.raycaster.ray.direction,this.three.raycaster.ray.origin,300,16711680),this.three.scene.add(this.three.arrow);for(let e=0;e<21;e++){const{isPalm:t}=this.getLandmarkProperty(e),i=new window.THREE.Object3D,n=new window.THREE.CylinderGeometry(t?5:10,5,1);let s=new window.THREE.MeshNormalMaterial;const r=new window.THREE.Mesh(n,s);r.rotation.x=Math.PI/2,i.add(r),this.three.scene.add(i),this.three.meshes.push(i)}const e=new window.THREE.Object3D,t=new window.THREE.CylinderGeometry(5,5,1);let i=new window.THREE.MeshNormalMaterial;const n=new window.THREE.Mesh(t,i);n.rotation.x=Math.PI/2,this.three.centerPalmObj=e,e.add(n),this.three.scene.add(e),this.three.meshes.push(e),this.three.screen.visible=!1}getLandmarkProperty(e){const t=[0,1,2,5,9,13,17],i=t.indexOf(e),n=-1!=i;let s;return s=n?t[(i+1)%t.length]:e-1,{isPalm:n,next:s}}updateMeshes(e){for(let t=0;t<this.three.meshes.length-1;t++){const{next:i}=this.getLandmarkProperty(t),n=this.webcam2space(...e.landmarks[t]),s=this.webcam2space(...e.landmarks[i]),r=n.clone().lerp(s,.5);if(this.three.meshes[t].position.set(r.x,r.y,r.z),this.normalized[t]=[this.handsfree.normalize(n.x,this.handsfree.debug.$video.videoWidth/-2,this.handsfree.debug.$video.videoWidth/2),this.handsfree.normalize(n.y,this.handsfree.debug.$video.videoHeight/-2,this.handsfree.debug.$video.videoHeight/2),this.three.meshes[t].position.z],this.three.meshes[t].scale.z=n.distanceTo(s),this.three.meshes[t].lookAt(s),8===t){this.three.arrow.position.set(r.x,r.y,r.z);const e=(new window.THREE.Vector3).subVectors(n,r);this.three.arrow.setDirection(e.normalize()),this.three.arrow.setLength(800),this.three.arrow.direction=e}}this.updateCenterPalmMesh(e)}updateCenterPalmMesh(e){let t=[],i={x:0,y:0,z:0};this.palmPoints.forEach(((n,s)=>{t.push(this.webcam2space(...e.landmarks[n])),i.x+=t[s].x,i.y+=t[s].y,i.z+=t[s].z})),i.x=i.x/this.palmPoints.length,i.y=i.y/this.palmPoints.length,i.z=i.z/this.palmPoints.length,this.three.centerPalmObj.position.set(i.x,i.y,i.z),this.three.centerPalmObj.scale.z=10,this.three.centerPalmObj.rotation.x=this.three.meshes[12].rotation.x-Math.PI/2,this.three.centerPalmObj.rotation.y=-this.three.meshes[12].rotation.y,this.three.centerPalmObj.rotation.z=this.three.meshes[12].rotation.z}webcam2space(e,t,i){return new window.THREE.Vector3(e-this.handsfree.debug.$video.videoWidth/2,-(t-this.handsfree.debug.$video.videoHeight/2),-i)}updateGestureEstimator(){const e=[],t=[];this.gestures.forEach((t=>{if(this.handsfree.gesture[t].enabled&&e.push(t),!this.handsfree.gesture[t].compiledDescription&&this.handsfree.gesture[t].enabled){const e=new a.GestureDescription(t);this.handsfree.gesture[t].description.forEach((t=>{switch(t[0]){case"addCurl":e[t[0]](a.Finger[t[1]],a.FingerCurl[t[2]],t[3]);break;case"addDirection":e[t[0]](a.Finger[t[1]],a.FingerDirection[t[2]],t[3]);break;case"setWeight":e[t[0]](a.Finger[t[1]],t[2])}})),this.handsfree.gesture[t].compiledDescription=e}})),e.forEach((e=>{t.push(this.handsfree.gesture[e].compiledDescription)})),e.length&&(this.gestureEstimator=new a.GestureEstimator(t))}getGesture(){let e=null;if(this.data.landmarks&&this.gestureEstimator){const t=this.gestureEstimator.estimate(this.data.landmarks,7.5);t.gestures.length&&(e=t.gestures.reduce(((e,t)=>e.confidence>t.confidence?e:t)))}return e}}class c extends t{constructor(e,t){super(e,t),this.name="weboji"}loadDependencies(e){this.handsfree.config.isClient?this.onReady(e):this.loadDependency(`${this.handsfree.config.assetsPath}/jeeliz/jeelizFaceTransfer.js`,(()=>{const t=this.handsfree.config.assetsPath+"/jeeliz/jeelizFaceTransferNNC.json";this.api=window.JEEFACETRANSFERAPI,fetch(t).then((e=>e.json())).then((t=>{this.api.init({canvasId:`handsfree-canvas-weboji-${this.handsfree.id}`,NNC:JSON.stringify(t),videoSettings:this.handsfree.config.weboji.videoSettings,callbackReady:()=>this.onReady(e)})})).catch((e=>{console.log(e),console.error(`Couldn't load weboji tracking model at ${t}`),this.handsfree.emit("modelError",e)}))}))}onReady(e){this.dependenciesLoaded=!0,this.handsfree.emit("modelReady",this),this.handsfree.emit("webojiModelReady",this),document.body.classList.add("handsfree-model-weboji"),e&&e(this)}getData(){return this.data.rotation=this.api.get_rotationStabilized(),this.data.translation=this.api.get_positionScale(),this.data.morphs=this.api.get_morphTargetInfluencesStabilized(),this.data.state=this.getStates(),this.data.degree=this.getDegrees(),this.data.isDetected=this.api.is_detected(),this.handsfree.data.weboji=this.data,this.data}getDegrees(){return[180*this.data.rotation[0]/Math.PI,180*this.data.rotation[1]/Math.PI,180*this.data.rotation[2]/Math.PI]}getStates(){const e=this.data.morphs,t=this.data.state||{};return t.smileRight=e[0]>this.handsfree.config.weboji.morphs.threshold.smileRight,t.smileLeft=e[1]>this.handsfree.config.weboji.morphs.threshold.smileLeft,t.smile=t.smileRight&&t.smileLeft,t.smirk=t.smileRight&&!t.smileLeft||!t.smileRight&&t.smileLeft,t.pursed=e[7]>this.handsfree.config.weboji.morphs.threshold.mouthRound,t.browLeftUp=e[4]>this.handsfree.config.weboji.morphs.threshold.browLeftUp,t.browRightUp=e[5]>this.handsfree.config.weboji.morphs.threshold.browRightUp,t.browsUp=e[4]>this.handsfree.config.weboji.morphs.threshold.browLeftUp&&e[5]>this.handsfree.config.weboji.morphs.threshold.browLeftUp,t.browLeftDown=e[2]>this.handsfree.config.weboji.morphs.threshold.browLeftDown,t.browRightDown=e[3]>this.handsfree.config.weboji.morphs.threshold.browRightDown,t.browsDown=e[2]>this.handsfree.config.weboji.morphs.threshold.browLeftDown&&e[3]>this.handsfree.config.weboji.morphs.threshold.browLeftDown,t.browsUpDown=t.browLeftDown&&t.browRightUp||t.browRightDown&&t.browLeftUp,t.eyeLeftClosed=e[8]>this.handsfree.config.weboji.morphs.threshold.eyeLeftClosed,t.eyeRightClosed=e[9]>this.handsfree.config.weboji.morphs.threshold.eyeRightClosed,t.eyesClosed=t.eyeLeftClosed&&t.eyeRightClosed,t.mouthClosed=0===e[6],t.mouthOpen=e[6]>this.handsfree.config.weboji.morphs.threshold.mouthOpen,t}}var u=function(){this.__data__=[],this.size=0};var f=function(e,t){return e===t||e!=e&&t!=t};var p=function(e,t){for(var i=e.length;i--;)if(f(e[i][0],t))return i;return-1},m=Array.prototype.splice;var g=function(e){var t=this.__data__,i=p(t,e);return!(i<0||(i==t.length-1?t.pop():m.call(t,i,1),--this.size,0))};var _=function(e){var t=this.__data__,i=p(t,e);return i<0?void 0:t[i][1]};var v=function(e){return p(this.__data__,e)>-1};var y=function(e,t){var i=this.__data__,n=p(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};function b(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}b.prototype.clear=u,b.prototype.delete=g,b.prototype.get=_,b.prototype.has=v,b.prototype.set=y;var w=b;var T=function(){this.__data__=new w,this.size=0};var P=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i};var E=function(e){return this.__data__.get(e)};var S=function(e){return this.__data__.has(e)},x="object"==typeof n&&n&&n.Object===Object&&n,D="object"==typeof self&&self&&self.Object===Object&&self,k=x||D||Function("return this")(),j=k.Symbol,R=Object.prototype,C=R.hasOwnProperty,$=R.toString,O=j?j.toStringTag:void 0;var L=function(e){var t=C.call(e,O),i=e[O];try{e[O]=void 0;var n=!0}catch(e){}var s=$.call(e);return n&&(t?e[O]=i:delete e[O]),s},A=Object.prototype.toString;var F=function(e){return A.call(e)},M=j?j.toStringTag:void 0;var U=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":M&&M in Object(e)?L(e):F(e)};var H=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var z,W=function(e){if(!H(e))return!1;var t=U(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},I=k["__core-js_shared__"],N=(z=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var G=function(e){return!!N&&N in e},V=Function.prototype.toString;var B=function(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""},q=/^\[object .+?Constructor\]$/,Y=Function.prototype,Q=Object.prototype,X=Y.toString,Z=Q.hasOwnProperty,J=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var K=function(e){return!(!H(e)||G(e))&&(W(e)?J:q).test(B(e))};var ee=function(e,t){return null==e?void 0:e[t]};var te=function(e,t){var i=ee(e,t);return K(i)?i:void 0},ie=te(k,"Map"),ne=te(Object,"create");var se=function(){this.__data__=ne?ne(null):{},this.size=0};var re=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ae=Object.prototype.hasOwnProperty;var oe=function(e){var t=this.__data__;if(ne){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return ae.call(t,e)?t[e]:void 0},he=Object.prototype.hasOwnProperty;var le=function(e){var t=this.__data__;return ne?void 0!==t[e]:he.call(t,e)};var de=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ne&&void 0===t?"__lodash_hash_undefined__":t,this};function ce(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}ce.prototype.clear=se,ce.prototype.delete=re,ce.prototype.get=oe,ce.prototype.has=le,ce.prototype.set=de;var ue=ce;var fe=function(){this.size=0,this.__data__={hash:new ue,map:new(ie||w),string:new ue}};var pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var me=function(e,t){var i=e.__data__;return pe(t)?i["string"==typeof t?"string":"hash"]:i.map};var ge=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t};var _e=function(e){return me(this,e).get(e)};var ve=function(e){return me(this,e).has(e)};var ye=function(e,t){var i=me(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};function be(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}be.prototype.clear=fe,be.prototype.delete=ge,be.prototype.get=_e,be.prototype.has=ve,be.prototype.set=ye;var we=be;var Te=function(e,t){var i=this.__data__;if(i instanceof w){var n=i.__data__;if(!ie||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new we(n)}return i.set(e,t),this.size=i.size,this};function Pe(e){var t=this.__data__=new w(e);this.size=t.size}Pe.prototype.clear=T,Pe.prototype.delete=P,Pe.prototype.get=E,Pe.prototype.has=S,Pe.prototype.set=Te;var Ee=Pe,Se=function(){try{var e=te(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var xe=function(e,t,i){"__proto__"==t&&Se?Se(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i};var De=function(e,t,i){(void 0!==i&&!f(e[t],i)||void 0===i&&!(t in e))&&xe(e,t,i)};var ke,je=function(e,t,i){for(var n=-1,s=Object(e),r=i(e),a=r.length;a--;){var o=r[ke?a:++n];if(!1===t(s[o],o,s))break}return e},Re=r((function(e,t){var i=t&&!t.nodeType&&t,n=i&&e&&!e.nodeType&&e,s=n&&n.exports===i?k.Buffer:void 0,r=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,n=r?r(i):new e.constructor(i);return e.copy(n),n}})),Ce=k.Uint8Array;var $e=function(e){var t=new e.constructor(e.byteLength);return new Ce(t).set(new Ce(e)),t};var Oe=function(e,t){var i=t?$e(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)};var Le=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t},Ae=Object.create,Fe=function(){function e(){}return function(t){if(!H(t))return{};if(Ae)return Ae(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();var Me,Ue,He=(Me=Object.getPrototypeOf,Ue=Object,function(e){return Me(Ue(e))}),ze=Object.prototype;var We=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ze)};var Ie=function(e){return"function"!=typeof e.constructor||We(e)?{}:Fe(He(e))};var Ne=function(e){return null!=e&&"object"==typeof e};var Ge=function(e){return Ne(e)&&"[object Arguments]"==U(e)},Ve=Object.prototype,Be=Ve.hasOwnProperty,qe=Ve.propertyIsEnumerable,Ye=Ge(function(){return arguments}())?Ge:function(e){return Ne(e)&&Be.call(e,"callee")&&!qe.call(e,"callee")},Qe=Array.isArray;var Xe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ze=function(e){return null!=e&&Xe(e.length)&&!W(e)};var Je=function(e){return Ne(e)&&Ze(e)};var Ke=function(){return!1},et=r((function(e,t){var i=t&&!t.nodeType&&t,n=i&&e&&!e.nodeType&&e,s=n&&n.exports===i?k.Buffer:void 0,r=(s?s.isBuffer:void 0)||Ke;e.exports=r})),tt=Function.prototype,it=Object.prototype,nt=tt.toString,st=it.hasOwnProperty,rt=nt.call(Object);var at=function(e){if(!Ne(e)||"[object Object]"!=U(e))return!1;var t=He(e);if(null===t)return!0;var i=st.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&nt.call(i)==rt},ot={};ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Arguments]"]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object Boolean]"]=ot["[object DataView]"]=ot["[object Date]"]=ot["[object Error]"]=ot["[object Function]"]=ot["[object Map]"]=ot["[object Number]"]=ot["[object Object]"]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object WeakMap]"]=!1;var ht=function(e){return Ne(e)&&Xe(e.length)&&!!ot[U(e)]};var lt=function(e){return function(t){return e(t)}},dt=r((function(e,t){var i=t&&!t.nodeType&&t,n=i&&e&&!e.nodeType&&e,s=n&&n.exports===i&&x.process,r=function(){try{return n&&n.require&&n.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=r})),ct=dt&&dt.isTypedArray,ut=ct?lt(ct):ht;var ft=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},pt=Object.prototype.hasOwnProperty;var mt=function(e,t,i){var n=e[t];pt.call(e,t)&&f(n,i)&&(void 0!==i||t in e)||xe(e,t,i)};var gt=function(e,t,i,n){var s=!i;i||(i={});for(var r=-1,a=t.length;++r<a;){var o=t[r],h=n?n(i[o],e[o],o,i,e):void 0;void 0===h&&(h=e[o]),s?xe(i,o,h):mt(i,o,h)}return i};var _t=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n},vt=/^(?:0|[1-9]\d*)$/;var yt=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&vt.test(e))&&e>-1&&e%1==0&&e<t},bt=Object.prototype.hasOwnProperty;var wt=function(e,t){var i=Qe(e),n=!i&&Ye(e),s=!i&&!n&&et(e),r=!i&&!n&&!s&&ut(e),a=i||n||s||r,o=a?_t(e.length,String):[],h=o.length;for(var l in e)!t&&!bt.call(e,l)||a&&("length"==l||s&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yt(l,h))||o.push(l);return o};var Tt=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t},Pt=Object.prototype.hasOwnProperty;var Et=function(e){if(!H(e))return Tt(e);var t=We(e),i=[];for(var n in e)("constructor"!=n||!t&&Pt.call(e,n))&&i.push(n);return i};var St=function(e){return Ze(e)?wt(e,!0):Et(e)};var xt=function(e){return gt(e,St(e))};var Dt=function(e,t,i,n,s,r,a){var o=ft(e,i),h=ft(t,i),l=a.get(h);if(l)De(e,i,l);else{var d=r?r(o,h,i+"",e,t,a):void 0,c=void 0===d;if(c){var u=Qe(h),f=!u&&et(h),p=!u&&!f&&ut(h);d=h,u||f||p?Qe(o)?d=o:Je(o)?d=Le(o):f?(c=!1,d=Re(h,!0)):p?(c=!1,d=Oe(h,!0)):d=[]:at(h)||Ye(h)?(d=o,Ye(o)?d=xt(o):H(o)&&!W(o)||(d=Ie(h))):c=!1}c&&(a.set(h,d),s(d,h,n,r,a),a.delete(h)),De(e,i,d)}};var kt=function e(t,i,n,s,r){t!==i&&je(i,(function(a,o){if(r||(r=new Ee),H(a))Dt(t,i,o,n,e,s,r);else{var h=s?s(ft(t,o),a,o+"",t,i,r):void 0;void 0===h&&(h=a),De(t,o,h)}}),St)};var jt=function(e){return e};var Rt=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)},Ct=Math.max;var $t=function(e,t,i){return t=Ct(void 0===t?e.length-1:t,0),function(){for(var n=arguments,s=-1,r=Ct(n.length-t,0),a=Array(r);++s<r;)a[s]=n[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=n[s];return o[t]=i(a),Rt(e,this,o)}};var Ot=function(e){return function(){return e}},Lt=Se?function(e,t){return Se(e,"toString",{configurable:!0,enumerable:!1,value:Ot(t),writable:!0})}:jt,At=Date.now;var Ft=function(e){var t=0,i=0;return function(){var n=At(),s=16-(n-i);if(i=n,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Lt);var Mt=function(e,t,i){if(!H(i))return!1;var n=typeof t;return!!("number"==n?Ze(i)&&yt(t,i.length):"string"==n&&t in i)&&f(i[t],e)};var Ut,Ht=(Ut=function(e,t,i){kt(e,t,i)},function(e,t){return Ft($t(e,t,jt),e+"")}((function(e,t){var i=-1,n=t.length,s=n>1?t[n-1]:void 0,r=n>2?t[2]:void 0;for(s=Ut.length>3&&"function"==typeof s?(n--,s):void 0,r&&Mt(t[0],t[1],r)&&(s=n<3?void 0:s,n=1),e=Object(e);++i<n;){var a=t[i];a&&Ut(e,a,i,s)}return e})));class zt{constructor(e,t){var i,n;this.plugin=e,this.handsfree=t,Object.keys(e).forEach((t=>{this[t]=e[t]}));let s=null===(i=t.config)||void 0===i||null===(n=i.plugin)||void 0===n?void 0:n[e.name];"boolean"==typeof s&&(s={enabled:s}),"object"==typeof s&&(Ht(this.config,s),"boolean"==typeof s.enabled&&(this.enabled=s.enabled))}enable(){!this.enabled&&this.onEnable&&this.onEnable(this.handsfree),this.enabled=!0}disable(){this.enabled&&this.onDisable&&this.onDisable(this.handsfree),this.enabled=!1}}class Wt extends class{constructor(e,t){var i,n;this.handsfree=t,Object.keys(e).forEach((t=>{this[t]=e[t]}));let s=null===(i=t.config)||void 0===i||null===(n=i.gesture)||void 0===n?void 0:n[e.name];"boolean"==typeof s&&(s={enabled:s}),"object"==typeof s&&(Ht(this.config,s),"boolean"==typeof s.enabled&&(this.enabled=s.enabled))}enable(){this.enabled=!0,this.updateGestureEstimator()}disable(){this.enabled=!1,this.updateGestureEstimator()}updateGestureEstimator(){this.models.forEach((e=>{this.handsfree.model[e].updateGestureEstimator()}))}}{constructor(e,t){super(e,t),this.algorithm="fingerpose",this.compiledDescription=null}}var It={autostart:!1,assetsPath:"https://unpkg.com/handsfree@8.4.4/build/lib/assets",isClient:!1,gesture:{},setup:{canvas:{weboji:{$el:null,width:1280,height:720},hands:{$el:null,width:1280,height:720},handpose:{$el:null,width:1280,height:720},pose:{$el:null,width:1280,height:720},facemesh:{$el:null,width:1280,height:720}},video:{$el:null,width:1280,height:720},wrap:{$el:null,$parent:null}},weboji:{enabled:!1,throttle:0,videoSettings:{videoElement:null,deviceId:null,facingMode:"user",idealWidth:320,idealHeight:240,minWidth:240,maxWidth:1280,minHeight:240,maxHeight:1280},morphs:{threshold:{smileRight:.7,smileLeft:.7,browLeftDown:.8,browRightDown:.8,browLeftUp:.8,browRightUp:.8,eyeLeftClosed:.4,eyeRightClosed:.4,mouthOpen:.3,mouthRound:.8,upperLip:.5}}},hands:{enabled:!1,maxNumHands:2,minDetectionConfidence:.5,minTrackingConfidence:.5},facemesh:{enabled:!1,maxNumFaces:1,minDetectionConfidence:.5,minTrackingConfidence:.5},pose:{enabled:!1,upperBodyOnly:!1,smoothLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5},handpose:{enabled:!1,backend:"webgl",maxContinuousChecks:1/0,detectionConfidence:.8,iouThreshold:.3,scoreThreshold:.75},plugin:{}},Nt=function(){return k.Date.now()};var Gt=function(e){return"symbol"==typeof e||Ne(e)&&"[object Symbol]"==U(e)},Vt=/^\s+|\s+$/g,Bt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Yt=/^0o[0-7]+$/i,Qt=parseInt;var Xt=function(e){if("number"==typeof e)return e;if(Gt(e))return NaN;if(H(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=H(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Vt,"");var i=qt.test(e);return i||Yt.test(e)?Qt(e.slice(2),i?2:8):Bt.test(e)?NaN:+e},Zt=Math.max,Jt=Math.min;var Kt=function(e,t,i){var n,s,r,a,o,h,l=0,d=!1,c=!1,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var i=n,r=s;return n=s=void 0,l=t,a=e.apply(r,i)}function p(e){return l=e,o=setTimeout(g,t),d?f(e):a}function m(e){var i=e-h;return void 0===h||i>=t||i<0||c&&e-l>=r}function g(){var e=Nt();if(m(e))return _(e);o=setTimeout(g,function(e){var i=t-(e-h);return c?Jt(i,r-(e-l)):i}(e))}function _(e){return o=void 0,u&&n?f(e):(n=s=void 0,a)}function v(){var e=Nt(),i=m(e);if(n=arguments,s=this,h=e,i){if(void 0===o)return p(h);if(c)return clearTimeout(o),o=setTimeout(g,t),f(h)}return void 0===o&&(o=setTimeout(g,t)),a}return t=Xt(t)||0,H(i)&&(d=!!i.leading,r=(c="maxWait"in i)?Zt(Xt(i.maxWait)||0,t):r,u="trailing"in i?!!i.trailing:u),v.cancel=function(){void 0!==o&&clearTimeout(o),l=0,n=h=s=o=void 0},v.flush=function(){return void 0===o?a:_(Nt())},v};var ei=function(e,t,i){var n=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return H(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),Kt(e,t,{leading:n,maxWait:t,trailing:s})},ti="undefined"!=typeof window?window:e.exports&&void 0!==i.g?i.g:window||{},ii=function(e){var t={},i=e.document,n=e.GreenSockGlobals=e.GreenSockGlobals||e;if(n.TweenLite)return n.TweenLite;var s,r,a,o,h,l,d,c=function(e){var t,i=e.split("."),s=n;for(t=0;t<i.length;t++)s[i[t]]=s=s[i[t]]||{};return s},u=c("com.greensock"),f=1e-8,p=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},m=function(){},g=(l=Object.prototype.toString,d=l.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&l.call(e)===d)}),_={},v=function(e,i,s,r){this.sc=_[e]?_[e].sc:[],_[e]=this,this.gsClass=null,this.func=s;var a=[];this.check=function(o){for(var h,l,d,u,f=i.length,p=f;--f>-1;)(h=_[i[f]]||new v(i[f],[])).gsClass?(a[f]=h.gsClass,p--):o&&h.sc.push(this);if(0===p&&s)for(d=(l=("com.greensock."+e).split(".")).pop(),u=c(l.join("."))[d]=this.gsClass=s.apply(s,a),r&&(n[d]=t[d]=u),f=0;f<this.sc.length;f++)this.sc[f].check()},this.check(!0)},y=e._gsDefine=function(e,t,i,n){return new v(e,t,i,n)},b=u._class=function(e,t,i){return t=t||function(){},y(e,[],(function(){return t}),i),t};y.globals=n;var w=[0,0,1,1],T=b("easing.Ease",(function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?w.concat(t):w}),!0),P=T.map={},E=T.register=function(e,t,i,n){for(var s,r,a,o,h=t.split(","),l=h.length,d=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(r=h[l],s=n?b("easing."+r,null,!0):u.easing[r]||{},a=d.length;--a>-1;)o=d[a],P[r+"."+o]=P[o+r]=s[o]=e.getRatio?e:e[o]||new e};for((a=T.prototype)._calcEnd=!1,a.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:e<.5?n/2:1-n/2},r=(s=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--r>-1;)a=s[r]+",Power"+r,E(new T(null,null,1,r),a,"easeOut",!0),E(new T(null,null,2,r),a,"easeIn"+(0===r?",easeNone":"")),E(new T(null,null,3,r),a,"easeInOut");P.linear=u.easing.Linear.easeIn,P.swing=u.easing.Quad.easeInOut;var S=b("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(a=S.prototype).addEventListener=function(e,t,i,n,s){s=s||0;var r,a,l=this._listeners[e],d=0;for(this!==o||h||o.wake(),null==l&&(this._listeners[e]=l=[]),a=l.length;--a>-1;)(r=l[a]).c===t&&r.s===i?l.splice(a,1):0===d&&r.pr<s&&(d=a+1);l.splice(d,0,{c:t,s:i,up:n,pr:s})},a.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},a.dispatchEvent=function(e){var t,i,n,s=this._listeners[e];if(s)for((t=s.length)>1&&(s=s.slice(0)),i=this._eventTarget;--t>-1;)(n=s[t])&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var x=e.requestAnimationFrame,D=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},j=k();for(r=(s=["ms","moz","webkit","o"]).length;--r>-1&&!x;)x=e[s[r]+"RequestAnimationFrame"],D=e[s[r]+"CancelAnimationFrame"]||e[s[r]+"CancelRequestAnimationFrame"];b("Ticker",(function(e,t){var n,s,r,a,l,d=this,c=k(),u=!(!1===t||!x)&&"auto",f=500,p=33,g=function(e){var t,i,o=k()-j;o>f&&(c+=o-p),j+=o,d.time=(j-c)/1e3,t=d.time-l,(!n||t>0||!0===e)&&(d.frame++,l+=t+(t>=a?.004:a-t),i=!0),!0!==e&&(r=s(g)),i&&d.dispatchEvent("tick")};S.call(d),d.time=d.frame=0,d.tick=function(){g(!0)},d.lagSmoothing=function(e,t){if(!arguments.length)return f<1e8;f=e||1e8,p=Math.min(t,f,0)},d.sleep=function(){null!=r&&(u&&D?D(r):clearTimeout(r),s=m,r=null,d===o&&(h=!1))},d.wake=function(e){null!==r?d.sleep():e?c+=-j+(j=k()):d.frame>10&&(j=k()-f+5),s=0===n?m:u&&x?x:function(e){return setTimeout(e,1e3*(l-d.time)+1|0)},d===o&&(h=!0),g(2)},d.fps=function(e){if(!arguments.length)return n;a=1/((n=e)||60),l=this.time+a,d.wake()},d.useRAF=function(e){if(!arguments.length)return u;d.sleep(),u=e,d.fps(n)},d.fps(e),setTimeout((function(){"auto"===u&&d.frame<5&&"hidden"!==(i||{}).visibilityState&&d.useRAF(!1)}),1500)})),(a=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var R=b("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!!t.immediateRender,this.data=t.data,this._reversed=!!t.reversed,X){h||o.wake();var i=this.vars.useFrames?Q:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}}));o=R.ticker=new u.Ticker,(a=R.prototype)._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var C=function(){h&&k()-j>2e3&&("hidden"!==(i||{}).visibilityState||!o.lagSmoothing())&&o.wake();var e=setTimeout(C,2e3);e.unref&&e.unref()};C(),a.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},a.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},a.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},a.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},a.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},a.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},a.render=function(e,t,i){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},a.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<i+this.totalDuration()/this._timeScale-f},a._enabled=function(e,t){return h||o.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(e,t){return this._enabled(!1,!1)},a.kill=function(e,t){return this._kill(e,t),this},a._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},a._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},a._callback=function(e){var t=this.vars,i=t[e],n=t[e+"Params"],s=t[e+"Scope"]||t.callbackScope||this;switch(n?n.length:0){case 0:i.call(s);break;case 1:i.call(s,n[0]);break;case 2:i.call(s,n[0],n[1]);break;default:i.apply(s,n)}},a.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[e];null==t?delete s[e]:(s[e]=t,s[e+"Params"]=g(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},a.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},a.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},a.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},a.totalTime=function(e,t,i){if(h||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-e:e)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(A.length&&J(),this.render(e,t,!1),A.length&&J())}return this},a.progress=a.totalProgress=function(e,t){var i=this.duration();return arguments.length?this.totalTime(i*e,t):i?this._time/i:this.ratio},a.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},a.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,i;for(e=e||f,this._timeline&&this._timeline.smoothChildTiming&&(i=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/e),this._timeScale=e,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},a.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(h||e||o.wake(),i=(t=n.rawTime())-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var $=b("core.SimpleTimeline",(function(e){R.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(a=$.prototype=new R).constructor=$,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(e,t,i,n){var s,r;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),s=this._last,this._sortChildren)for(r=e._startTime;s&&s._startTime>r;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=s,this._recent=e,this._timeline&&this._uncache(!0),this},a._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(e,t,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;s;)n=s._next,(s._active||e>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(e-s._startTime)*s._timeScale,t,i):s.render((e-s._startTime)*s._timeScale,t,i)),s=n},a.rawTime=function(){return h||o.wake(),this._totalTime};var O=b("TweenLite",(function(t,i,n){if(R.call(this,i,n),this.render=O.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:O.selector(t)||t;var s,r,a,o=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?Y[O.defaultOverwrite]:"number"==typeof h?h>>0:Y[h],(o||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=a=p(t),this._propLookup=[],this._siblings=[],s=0;s<a.length;s++)(r=a[s])?"string"!=typeof r?r.length&&r!==e&&r[0]&&(r[0]===e||r[0].nodeType&&r[0].style&&!r.nodeType)?(a.splice(s--,1),this._targets=a=a.concat(p(r))):(this._siblings[s]=K(r,this,!1),1===h&&this._siblings[s].length>1&&te(r,this,null,1,this._siblings[s])):"string"==typeof(r=a[s--]=O.selector(r))&&a.splice(s+1,1):a.splice(s--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===h&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))}),!0),L=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(a=O.prototype=new R).constructor=O,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,O.version="2.1.3",O.defaultEase=a._ease=new T(null,null,1,1),O.defaultOverwrite="auto",O.ticker=o,O.autoSleep=120,O.lagSmoothing=function(e,t){o.lagSmoothing(e,t)},O.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(O.selector=n,n(t)):(i||(i=e.document),i?i.querySelectorAll?i.querySelectorAll(t):i.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var A=[],F={},M=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=/[\+-]=-?[\.\d]/,H=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:i.c*e+i.s,i.m?t=i.m.call(this._tween,t,this._target||i.t,this._tween):t<n&&t>-n&&!i.blob&&(t=0),i.f?i.fp?i.t[i.p](i.fp,t):i.t[i.p](t):i.t[i.p]=t,i=i._next},z=function(e){return(1e3*e|0)/1e3+""},W=function(e,t,i,n){var s,r,a,o,h,l,d,c=[],u=0,f="",p=0;for(c.start=e,c.end=t,e=c[0]=e+"",t=c[1]=t+"",i&&(i(c),e=c[0],t=c[1]),c.length=0,s=e.match(M)||[],r=t.match(M)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),h=r.length,o=0;o<h;o++)d=r[o],f+=(l=t.substr(u,t.indexOf(d,u)-u))||!o?l:",",u+=l.length,p?p=(p+1)%5:"rgba("===l.substr(-5)&&(p=1),d===s[o]||s.length<=o?f+=d:(f&&(c.push(f),f=""),a=parseFloat(s[o]),c.push(a),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:a,c:("="===d.charAt(1)?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-a)||0,f:0,m:p&&p<4?Math.round:z}),u+=d.length;return(f+=t.substr(u))&&c.push(f),c.setRatio=H,U.test(t)&&(c.end=null),c},I=function(e,t,i,n,s,r,a,o,h){"function"==typeof n&&(n=n(h||0,e));var l=typeof e[t],d="function"!==l?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),c="get"!==i?i:d?a?e[d](a):e[d]():e[t],u="string"==typeof n&&"="===n.charAt(1),f={t:e,p:t,s:c,f:"function"===l,pg:0,n:s||t,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:u?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};if(("number"!=typeof c||"number"!=typeof n&&!u)&&(a||isNaN(c)||!u&&isNaN(n)||"boolean"==typeof c||"boolean"==typeof n?(f.fp=a,f={t:W(c,u?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,o||O.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:s||t,pr:0,m:0}):(f.s=parseFloat(c),u||(f.c=parseFloat(n)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},N=O._internals={isArray:g,isSelector:L,lazyTweens:A,blobDif:W},G=O._plugins={},V=N.tweenLookup={},B=0,q=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=R._rootFramesTimeline=new $,X=R._rootTimeline=new $,Z=30,J=N.lazyRender=function(){var e,t,i=A.length;for(F={},e=0;e<i;e++)(t=A[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);A.length=0};X._startTime=o.time,Q._startTime=o.frame,X._active=Q._active=!0,setTimeout(J,1),R._updateRoot=O.render=function(){var e,t,i;if(A.length&&J(),X.render((o.time-X._startTime)*X._timeScale,!1,!1),Q.render((o.frame-Q._startTime)*Q._timeScale,!1,!1),A.length&&J(),o.frame>=Z){for(i in Z=o.frame+(parseInt(O.autoSleep,10)||120),V){for(e=(t=V[i].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete V[i]}if((!(i=X._first)||i._paused)&&O.autoSleep&&!Q._first&&1===o._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||o.sleep()}}},o.addEventListener("tick",R._updateRoot);var K=function(e,t,i){var n,s,r=e._gsTweenID;if(V[r||(e._gsTweenID=r="t"+B++)]||(V[r]={target:e,tweens:[]}),t&&((n=V[r].tweens)[s=n.length]=t,i))for(;--s>-1;)n[s]===t&&n.splice(s,1);return V[r].tweens},ee=function(e,t,i,n){var s,r,a=e.vars.onOverwrite;return a&&(s=a(e,t,i,n)),(a=O.onOverwrite)&&(r=a(e,t,i,n)),!1!==s&&!1!==r},te=function(e,t,i,n,s){var r,a,o,h;if(1===n||n>=4){for(h=s.length,r=0;r<h;r++)if((o=s[r])!==t)o._gc||o._kill(null,e,t)&&(a=!0);else if(5===n)break;return a}var l,d=t._startTime+f,c=[],u=0,p=0===t._duration;for(r=s.length;--r>-1;)(o=s[r])===t||o._gc||o._paused||(o._timeline!==t._timeline?(l=l||ie(t,0,p),0===ie(o,l,p)&&(c[u++]=o)):o._startTime<=d&&o._startTime+o.totalDuration()/o._timeScale>d&&((p||!o._initted)&&d-o._startTime<=2e-8||(c[u++]=o)));for(r=u;--r>-1;)if(h=(o=c[r])._firstPT,2===n&&o._kill(i,e,t)&&(a=!0),2!==n||!o._firstPT&&o._initted&&h){if(2!==n&&!ee(o,t))continue;o._enabled(!1,!1)&&(a=!0)}return a},ie=function(e,t,i){for(var n=e._timeline,s=n._timeScale,r=e._startTime;n._timeline;){if(r+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return(r/=s)>t?r-t:i&&r===t||!e._initted&&r-t<2e-8?f:(r+=e.totalDuration()/e._timeScale/s)>t+f?0:r-t-f};a._init=function(){var e,t,i,n,s,r,a=this.vars,o=this._overwrittenProps,h=this._duration,l=!!a.immediateRender,d=a.ease,c=this._startAt;if(a.startAt){for(n in c&&(c.render(-1,!0),c.kill()),s={},a.startAt)s[n]=a.startAt[n];if(s.data="isStart",s.overwrite=!1,s.immediateRender=!0,s.lazy=l&&!1!==a.lazy,s.startAt=s.delay=null,s.onUpdate=a.onUpdate,s.onUpdateParams=a.onUpdateParams,s.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=O.to(this.target||{},0,s),l)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(a.runBackwards&&0!==h)if(c)c.render(-1,!0),c.kill(),this._startAt=null;else{for(n in 0!==this._time&&(l=!1),i={},a)q[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&!1!==a.lazy,i.immediateRender=l,this._startAt=O.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=d=d?d instanceof T?d:"function"==typeof d?new T(d,a.easeParams):P[d]||O.defaultEase:O.defaultEase,a.easeParams instanceof Array&&d.config&&(this._ease=d.config.apply(d,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,e=0;e<r;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],o?o[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(t&&O._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(t,i,n,s,r){var a,o,h,l,d,c;if(null==t)return!1;for(a in F[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&G.css&&!1!==this.vars.autoCSS&&function(e,t){var i,n={};for(i in e)q[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!G[i]||G[i]&&G[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n}(this.vars,t),this.vars)if(c=this.vars[a],q[a])c&&(c instanceof Array||c.push&&g(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[a]=c=this._swapSelfInParams(c,this));else if(G[a]&&(l=new G[a])._onInitTween(t,this.vars[a],this,r)){for(this._firstPT=d={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(h=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),d._next&&(d._next._prev=d)}else i[a]=I.call(this,t,a,"get",c,a,0,null,this.vars.stringFilter,r);return s&&this._kill(s,t)?this._initProps(t,i,n,s,r):this._overwrite>1&&this._firstPT&&n.length>1&&te(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,s,r)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[t._gsTweenID]=!0),h)},a.render=function(e,t,i){var n,s,r,a,o=this,h=o._time,l=o._duration,d=o._rawPrevTime;if(e>=l-f&&e>=0)o._totalTime=o._time=l,o.ratio=o._ease._calcEnd?o._ease.getRatio(1):1,o._reversed||(n=!0,s="onComplete",i=i||o._timeline.autoRemoveChildren),0===l&&(o._initted||!o.vars.lazy||i)&&(o._startTime===o._timeline._duration&&(e=0),(d<0||e<=0&&e>=-1e-8||d===f&&"isPause"!==o.data)&&d!==e&&(i=!0,d>f&&(s="onReverseComplete")),o._rawPrevTime=a=!t||e||d===e?e:f);else if(e<f)o._totalTime=o._time=0,o.ratio=o._ease._calcEnd?o._ease.getRatio(0):0,(0!==h||0===l&&d>0)&&(s="onReverseComplete",n=o._reversed),e>-1e-8?e=0:e<0&&(o._active=!1,0===l&&(o._initted||!o.vars.lazy||i)&&(d>=0&&(d!==f||"isPause"!==o.data)&&(i=!0),o._rawPrevTime=a=!t||e||d===e?e:f)),(!o._initted||o._startAt&&o._startAt.progress())&&(i=!0);else if(o._totalTime=o._time=e,o._easeType){var c=e/l,u=o._easeType,p=o._easePower;(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),o.ratio=1===u?1-c:2===u?c:e/l<.5?c/2:1-c/2}else o.ratio=o._ease.getRatio(e/l);if(o._time!==h||i){if(!o._initted){if(o._init(),!o._initted||o._gc)return;if(!i&&o._firstPT&&(!1!==o.vars.lazy&&o._duration||o.vars.lazy&&!o._duration))return o._time=o._totalTime=h,o._rawPrevTime=d,A.push(o),void(o._lazy=[e,t]);o._time&&!n?o.ratio=o._ease.getRatio(o._time/l):n&&o._ease._calcEnd&&(o.ratio=o._ease.getRatio(0===o._time?0:1))}for(!1!==o._lazy&&(o._lazy=!1),o._active||!o._paused&&o._time!==h&&e>=0&&(o._active=!0),0===h&&(o._startAt&&(e>=0?o._startAt.render(e,!0,i):s||(s="_dummyGS")),o.vars.onStart&&(0===o._time&&0!==l||t||o._callback("onStart"))),r=o._firstPT;r;)r.f?r.t[r.p](r.c*o.ratio+r.s):r.t[r.p]=r.c*o.ratio+r.s,r=r._next;o._onUpdate&&(e<0&&o._startAt&&-1e-4!==e&&o._startAt.render(e,!0,i),t||(o._time!==h||n||i)&&o._callback("onUpdate")),s&&(o._gc&&!i||(e<0&&o._startAt&&!o._onUpdate&&-1e-4!==e&&o._startAt.render(e,!0,i),n&&(o._timeline.autoRemoveChildren&&o._enabled(!1,!1),o._active=!1),!t&&o.vars[s]&&o._callback(s),0===l&&o._rawPrevTime===f&&a!==f&&(o._rawPrevTime=0)))}},a._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:O.selector(t)||t;var n,s,r,a,o,h,l,d,c,u=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,f=this._firstPT;if((g(t)||L(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(h=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,s=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){if(l=e||o,d=e!==s&&"all"!==s&&e!==o&&("object"!=typeof e||!e._tempKill),i&&(O.onOverwrite||this.vars.onOverwrite)){for(r in l)o[r]&&(c||(c=[]),c.push(r));if((c||!e)&&!ee(this,i,t,c))return!1}for(r in l)(a=o[r])&&(u&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[r]),d&&(s[r]=1);!this._firstPT&&this._initted&&f&&this._enabled(!1,!1)}}return h},a.invalidate=function(){this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this);var e=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(e,!1,!1!==this.vars.lazy)),this},a._enabled=function(e,t){if(h||o.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=K(n[i],this,!0);else this._siblings=K(this.target,this,!0)}return R.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(e?"_onEnable":"_onDisable",this)},O.to=function(e,t,i){return new O(e,t,i)},O.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new O(e,t,i)},O.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new O(e,t,n)},O.delayedCall=function(e,t,i,n,s){return new O(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},O.set=function(e,t){return new O(e,0,t)},O.getTweensOf=function(e,t){if(null==e)return[];var i,n,s,r;if(e="string"!=typeof e?e:O.selector(e)||e,(g(e)||L(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(O.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(r=n[i],s=i;--s>-1;)r===n[s]&&n.splice(i,1)}else if(e._gsTweenID)for(i=(n=K(e).concat()).length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n||[]},O.killTweensOf=O.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=O.getTweensOf(e,t),s=n.length;--s>-1;)n[s]._kill(i,e)};var ne=b("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ne.prototype}),!0);if(a=ne.prototype,ne.version="1.19.0",ne.API=2,a._firstPT=null,a._addTween=I,a.setRatio=H,a._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._mod=a._roundProps=function(e){for(var t,i=this._firstPT;i;)(t=e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===i.f?i.t._applyPT.m=t:i.m=t),i=i._next},O._onPluginEvent=function(e,t){var i,n,s,r,a,o=t._firstPT;if("_onInitAllProps"===e){for(;o;){for(a=o._next,n=s;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:s=o,(o._next=n)?n._prev=o:r=o,o=a}o=t._firstPT=s}for(;o;)o.pg&&"function"==typeof o.t[e]&&o.t[e]()&&(i=!0),o=o._next;return i},ne.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ne.API&&(G[(new e[t])._propName]=e[t]);return!0},y.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,s=e.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=b("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",(function(){ne.call(this,i,n),this._overwriteProps=s||[]}),!0===e.global),o=a.prototype=new ne(i);for(t in o.constructor=a,a.API=e.API,r)"function"==typeof e[t]&&(o[r[t]]=e[t]);return a.version=e.version,ne.activate([a]),a},s=e._gsQueue){for(r=0;r<s.length;r++)s[r]();for(a in _)_[a].func||e.console.log("GSAP encountered missing dependency: "+a)}return h=!1,O}(ti),ni=ti.GreenSockGlobals,si=ni.com.greensock,ri=si.core.SimpleTimeline,ai=si.core.Animation,oi=ni.Ease;ni.Linear,ni.Power1,ni.Power2,ni.Power3,ni.Power4,ni.TweenPlugin,si.events.EventDispatcher,ti._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var e=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},t=function(e,t,i){var n,s,r=e.cycle;for(n in r)s=r[n],e[n]="function"==typeof s?s(i,t[i],t):s[i%s.length];delete e.cycle},i=function(e){if("function"==typeof e)return e;var t="object"==typeof e?e:{each:e},i=t.ease,n=t.from||0,s=t.base||0,r={},a=isNaN(n),o=t.axis,h={center:.5,end:1}[n]||0;return function(e,l,d){var c,u,f,p,m,g,_,v,y,b=(d||t).length,w=r[b];if(!w){if(!(y="auto"===t.grid?0:(t.grid||[1/0])[0])){for(_=-1/0;_<(_=d[y++].getBoundingClientRect().left)&&y<b;);y--}for(w=r[b]=[],c=a?Math.min(y,b)*h-.5:n%y,u=a?b*h/y-.5:n/y|0,_=0,v=1/0,g=0;g<b;g++)f=g%y-c,p=u-(g/y|0),w[g]=m=o?Math.abs("y"===o?p:f):Math.sqrt(f*f+p*p),m>_&&(_=m),m<v&&(v=m);w.max=_-v,w.min=v,w.v=b=t.amount||t.each*(y>b?b-1:o?"y"===o?b/y:y:Math.max(y,b/y))||0,w.b=b<0?s-b:s}return b=(w[e]-w.min)/w.max,w.b+(i?i.getRatio(b):b)*w.v}},n=function(e,t,i){ii.call(this,e,t,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=n.prototype.render},s=1e-8,r=ii._internals,a=r.isSelector,o=r.isArray,h=n.prototype=ii.to({},.1,{}),l=[];n.version="2.1.3",h.constructor=n,h.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=ii.killTweensOf,n.getTweensOf=ii.getTweensOf,n.lagSmoothing=ii.lagSmoothing,n.ticker=ii.ticker,n.render=ii.render,n.distribute=i,h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),ii.prototype.invalidate.call(this)},h.updateTo=function(e,t){var i,n=this,s=n.ratio,r=n.vars.immediateRender||e.immediateRender;for(i in t&&n._startTime<n._timeline._time&&(n._startTime=n._timeline._time,n._uncache(!1),n._gc?n._enabled(!0,!1):n._timeline.insert(n,n._startTime-n._delay)),e)n.vars[i]=e[i];if(n._initted||r)if(t)n._initted=!1,r&&n.render(0,!0,!0);else if(n._gc&&n._enabled(!0,!1),n._notifyPluginsOfEnabled&&n._firstPT&&ii._onPluginEvent("_onDisable",n),n._time/n._duration>.998){var a=n._totalTime;n.render(0,!0,!1),n._initted=!1,n.render(a,!0,!1)}else if(n._initted=!1,n._init(),n._time>0||r)for(var o,h=1/(1-s),l=n._firstPT;l;)o=l.s+l.c,l.c*=h,l.s=o-l.c,l=l._next;return n},h.render=function(e,t,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,a,o,h,l,d,c,u,f,p=this,m=p._dirty?p.totalDuration():p._totalDuration,g=p._time,_=p._totalTime,v=p._cycle,y=p._duration,b=p._rawPrevTime;if(e>=m-s&&e>=0?(p._totalTime=m,p._cycle=p._repeat,p._yoyo&&0!=(1&p._cycle)?(p._time=0,p.ratio=p._ease._calcEnd?p._ease.getRatio(0):0):(p._time=y,p.ratio=p._ease._calcEnd?p._ease.getRatio(1):1),p._reversed||(n=!0,a="onComplete",i=i||p._timeline.autoRemoveChildren),0===y&&(p._initted||!p.vars.lazy||i)&&(p._startTime===p._timeline._duration&&(e=0),(b<0||e<=0&&e>=-1e-8||b===s&&"isPause"!==p.data)&&b!==e&&(i=!0,b>s&&(a="onReverseComplete")),p._rawPrevTime=u=!t||e||b===e?e:s)):e<s?(p._totalTime=p._time=p._cycle=0,p.ratio=p._ease._calcEnd?p._ease.getRatio(0):0,(0!==_||0===y&&b>0)&&(a="onReverseComplete",n=p._reversed),e>-1e-8?e=0:e<0&&(p._active=!1,0===y&&(p._initted||!p.vars.lazy||i)&&(b>=0&&(i=!0),p._rawPrevTime=u=!t||e||b===e?e:s)),p._initted||(i=!0)):(p._totalTime=p._time=e,0!==p._repeat&&(h=y+p._repeatDelay,p._cycle=p._totalTime/h>>0,0!==p._cycle&&p._cycle===p._totalTime/h&&_<=e&&p._cycle--,p._time=p._totalTime-p._cycle*h,p._yoyo&&0!=(1&p._cycle)&&(p._time=y-p._time,(f=p._yoyoEase||p.vars.yoyoEase)&&(p._yoyoEase||(!0!==f||p._initted?p._yoyoEase=f=!0===f?p._ease:f instanceof oi?f:oi.map[f]:(f=p.vars.ease,p._yoyoEase=f=f?f instanceof oi?f:"function"==typeof f?new oi(f,p.vars.easeParams):oi.map[f]||ii.defaultEase:ii.defaultEase)),p.ratio=f?1-f.getRatio((y-p._time)/y):0)),p._time>y?p._time=y:p._time<0&&(p._time=0)),p._easeType&&!f?(l=p._time/y,(1===(d=p._easeType)||3===d&&l>=.5)&&(l=1-l),3===d&&(l*=2),1===(c=p._easePower)?l*=l:2===c?l*=l*l:3===c?l*=l*l*l:4===c&&(l*=l*l*l*l),p.ratio=1===d?1-l:2===d?l:p._time/y<.5?l/2:1-l/2):f||(p.ratio=p._ease.getRatio(p._time/y))),g!==p._time||i||v!==p._cycle){if(!p._initted){if(p._init(),!p._initted||p._gc)return;if(!i&&p._firstPT&&(!1!==p.vars.lazy&&p._duration||p.vars.lazy&&!p._duration))return p._time=g,p._totalTime=_,p._rawPrevTime=b,p._cycle=v,r.lazyTweens.push(p),void(p._lazy=[e,t]);!p._time||n||f?n&&this._ease._calcEnd&&!f&&(p.ratio=p._ease.getRatio(0===p._time?0:1)):p.ratio=p._ease.getRatio(p._time/y)}for(!1!==p._lazy&&(p._lazy=!1),p._active||!p._paused&&p._time!==g&&e>=0&&(p._active=!0),0===_&&(2===p._initted&&e>0&&p._init(),p._startAt&&(e>=0?p._startAt.render(e,!0,i):a||(a="_dummyGS")),p.vars.onStart&&(0===p._totalTime&&0!==y||t||p._callback("onStart"))),o=p._firstPT;o;)o.f?o.t[o.p](o.c*p.ratio+o.s):o.t[o.p]=o.c*p.ratio+o.s,o=o._next;p._onUpdate&&(e<0&&p._startAt&&p._startTime&&p._startAt.render(e,!0,i),t||(p._totalTime!==_||a)&&p._callback("onUpdate")),p._cycle!==v&&(t||p._gc||p.vars.onRepeat&&p._callback("onRepeat")),a&&(p._gc&&!i||(e<0&&p._startAt&&!p._onUpdate&&p._startTime&&p._startAt.render(e,!0,i),n&&(p._timeline.autoRemoveChildren&&p._enabled(!1,!1),p._active=!1),!t&&p.vars[a]&&p._callback(a),0===y&&p._rawPrevTime===s&&u!==s&&(p._rawPrevTime=0)))}else _!==p._totalTime&&p._onUpdate&&(t||p._callback("onUpdate"))},n.to=function(e,t,i){return new n(e,t,i)},n.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(e,t,i)},n.fromTo=function(e,t,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new n(e,t,s)},n.staggerTo=n.allTo=function(s,r,h,d,c,u,f){var p,m,g,_,v=[],y=i(h.stagger||d),b=h.cycle,w=(h.startAt||l).cycle;for(o(s)||("string"==typeof s&&(s=ii.selector(s)||s),a(s)&&(s=e(s))),p=(s=s||[]).length-1,g=0;g<=p;g++){for(_ in m={},h)m[_]=h[_];if(b&&(t(m,s,g),null!=m.duration&&(r=m.duration,delete m.duration)),w){for(_ in w=m.startAt={},h.startAt)w[_]=h.startAt[_];t(m.startAt,s,g)}m.delay=y(g,s[g],s)+(m.delay||0),g===p&&c&&(m.onComplete=function(){h.onComplete&&h.onComplete.apply(h.onCompleteScope||this,arguments),c.apply(f||h.callbackScope||this,u||l)}),v[g]=new n(s[g],r,m)}return v},n.staggerFrom=n.allFrom=function(e,t,i,s,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(e,t,i,s,r,a,o)},n.staggerFromTo=n.allFromTo=function(e,t,i,s,r,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,n.staggerTo(e,t,s,r,a,o,h)},n.delayedCall=function(e,t,i,s,r){return new n(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:s,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},n.set=function(e,t){return new n(e,0,t)},n.isTweening=function(e){return ii.getTweensOf(e,!0).length>0};var d=function(e,t){for(var i=[],n=0,s=e._first;s;)s instanceof ii?i[n++]=s:(t&&(i[n++]=s),n=(i=i.concat(d(s,t))).length),s=s._next;return i},c=n.getAllTweens=function(e){return d(ai._rootTimeline,e).concat(d(ai._rootFramesTimeline,e))};n.killAll=function(e,t,i,n){null==t&&(t=!0),null==i&&(i=!0);var s,r,a,o=c(0!=n),h=o.length,l=t&&i&&n;for(a=0;a<h;a++)r=o[a],(l||r instanceof ri||(s=r.target===r.vars.onComplete)&&i||t&&!s)&&(e?r.totalTime(r._reversed?0:r.totalDuration()):r._enabled(!1,!1))},n.killChildTweensOf=function(t,i){if(null!=t){var s,h,l,d,c,u=r.tweenLookup;if("string"==typeof t&&(t=ii.selector(t)||t),a(t)&&(t=e(t)),o(t))for(d=t.length;--d>-1;)n.killChildTweensOf(t[d],i);else{for(l in s=[],u)for(h=u[l].target.parentNode;h;)h===t&&(s=s.concat(u[l].tweens)),h=h.parentNode;for(c=s.length,d=0;d<c;d++)i&&s[d].totalTime(s[d].totalDuration()),s[d]._enabled(!1,!1)}}};var u=function(e,t,i,n){t=!1!==t,i=!1!==i;for(var s,r,a=c(n=!1!==n),o=t&&i&&n,h=a.length;--h>-1;)r=a[h],(o||r instanceof ri||(s=r.target===r.vars.onComplete)&&i||t&&!s)&&r.paused(e)};return n.pauseAll=function(e,t,i){u(!0,e,t,i)},n.resumeAll=function(e,t,i){u(!1,e,t,i)},n.globalTimeScale=function(e){var t=ai._rootTimeline,i=ii.ticker.time;return arguments.length?(e=e||s,t._startTime=i-(i-t._startTime)*t._timeScale/e,t=ai._rootFramesTimeline,i=ii.ticker.frame,t._startTime=i-(i-t._startTime)*t._timeScale/e,t._timeScale=ai._rootTimeline._timeScale=e,e):t._timeScale},h.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this.duration()?this._time/this._duration:this.ratio},h.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},h.time=function(e,t){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var i=this._duration,n=this._cycle,s=n*(i+this._repeatDelay);return e>i&&(e=i),this.totalTime(this._yoyo&&1&n?i-e+s:this._repeat?e+s:e,t)},h.duration=function(e){return arguments.length?ai.prototype.duration.call(this,e):this._duration},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},h.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},h.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n}),!0);var hi=ni.TweenMax,li={models:"weboji",enabled:!1,tags:["browser"],$pointer:null,pointer:{x:-20,y:-20},tween:{x:0,y:0,positionList:[]},config:{offset:{x:0,y:0,pitch:10,yaw:0,roll:0},speed:{x:1,y:1}},onEnable(){var e;if(!this.$pointer){const e=document.createElement("div");e.classList.add("handsfree-pointer","handsfree-pointer-face","handsfree-hide-when-started-without-weboji"),document.body.appendChild(e),this.$pointer=e}null===(e=this.$pointer)||void 0===e||e.classList.remove("handsfree-hidden")},onFrame({weboji:e}){let t=e.translation[0]*window.outerWidth,i=window.outerHeight-e.translation[1]*window.outerHeight,n=(1-e.translation[2])*window.outerWidth*2.5;t+=n*Math.tan(e.rotation[1]+this.config.offset.yaw*Math.PI/180)*this.config.speed.x,i+=n*Math.tan(e.rotation[0]+this.config.offset.pitch*Math.PI/180)*this.config.speed.y-window.outerHeight,t+=this.config.offset.x,i+=this.config.offset.y,this.handsfree.TweenMax.to(this.tween,1,{x:t,y:i,overwrite:!0,ease:"linear.easeNone",immediateRender:!0}),this.$pointer.style.left=`${this.tween.x}px`,this.$pointer.style.top=`${this.tween.y}px`,e.pointer={x:this.tween.x,y:this.tween.y}},onDisable(){var e;null===(e=this.$pointer)||void 0===e||e.classList.add("handsfree-hidden")}},di={models:"weboji",enabled:!1,tags:["browser"],config:{throttle:50,maxMouseDownedFrames:1,morphs:{0:.25,1:.25}},mouseDowned:0,mouseUp:!1,thresholdMet:!1,lastHeld:{x:0,y:0},$origTarget:null,onFrame({weboji:e}){this.thresholdMet=!1;let t="";Object.keys(this.config.morphs).forEach((t=>{const i=+this.config.morphs[t];i>0&&e.morphs[t]>=i&&(this.thresholdMet=!0)})),this.thresholdMet?(this.mouseDowned++,document.body.classList.add("handsfree-clicked")):(this.mouseUp=this.mouseDowned,this.mouseDowned=0,document.body.classList.remove("handsfree-clicked")),t=this.mouseDowned>0&&this.mouseDowned<=this.config.maxMouseDownedFrames?e.pointer.state="mousedown":this.mouseDowned>this.config.maxMouseDownedFrames?e.pointer.state="mousedrag":this.mouseUp?e.pointer.state="mouseup":"mousemove";const i=document.elementFromPoint(e.pointer.x,e.pointer.y);if(i&&"mousedown"===t&&(this.$origTarget=i),i){const n={view:window,button:0,bubbles:!0,cancelable:!0,clientX:e.pointer.x,clientY:e.pointer.y,movementX:e.pointer.x-this.lastHeld.x,movementY:e.pointer.y-this.lastHeld.y};i.dispatchEvent(new MouseEvent(t,n)),"mousedown"===e.pointer.state&&["INPUT","TEXTAREA","BUTTON","A"].includes(i.nodeName)&&i.focus(),"mouseup"===e.pointer.state&&i===this.$origTarget&&i.dispatchEvent(new MouseEvent("click",n)),e.pointer.$target=i}this.lastHeld=e.pointer}},ci={models:"weboji",enabled:!1,tags:["browser"],numFramesFocused:0,$lastTarget:null,$target:null,config:{framesToFocus:10,vertScroll:{scrollSpeed:.05,scrollZone:100}},onUse(){this.$target=window},onFrame({weboji:e}){if(!e.pointer.x&&!e.pointer.y)return;this.checkForFocus(e);let t,i=!1,n=this.getTargetScrollTop();t=this.$target.getBoundingClientRect?this.$target.getBoundingClientRect():{top:0,bottom:window.innerHeight},"mouseDown"===e.pointer.state&&(this.numFramesFocused=0,this.maybeSetTarget(e)),e.pointer.y<t.top+this.config.vertScroll.scrollZone&&(this.$target.scrollTo(0,n+(e.pointer.y-t.top-this.config.vertScroll.scrollZone)*this.config.vertScroll.scrollSpeed),i=!0),e.pointer.y>t.bottom-this.config.vertScroll.scrollZone&&(this.$target.scrollTo(0,n-(t.bottom-e.pointer.y-this.config.vertScroll.scrollZone)*this.config.vertScroll.scrollSpeed),i=!0),i&&this.maybeSelectNewTarget()},maybeSelectNewTarget(){let e=this.getTargetScrollTop(),t=!1;this.$target.scrollTo(0,e+this.config.vertScroll.scrollSpeed),e===this.getTargetScrollTop()?(t=!0,this.$target.scrollTo(0,e-this.config.vertScroll.scrollSpeed),e===this.getTargetScrollTop()?t&&(this.numFramesFocused=0,this.selectTarget(this.recursivelyFindScrollbar(this.$target.parentElement))):this.$target.scrollTo(0,e+this.config.vertScroll.scrollSpeed)):this.$target.scrollTo(0,e-this.config.vertScroll.scrollSpeed)},getTargetScrollTop(){var e,t;return(null===(e=this.$target)||void 0===e?void 0:e.scrollY)||(null===(t=this.$target)||void 0===t?void 0:t.scrollTop)||0},checkForFocus:ei((function(e){let t=document.elementFromPoint(e.pointer.x,e.pointer.y);t&&(t=this.recursivelyFindScrollbar(t),t===this.$lastTarget?++this.numFramesFocused:this.numFramesFocused=0,this.numFramesFocused>this.config.framesToFocus&&this.selectTarget(t),this.$lastTarget=t)}),100),selectTarget(e){this.$target.classList&&this.$target.classList.remove("handsfree-scroll-focus"),e&&e.classList&&e.classList.add("handsfree-scroll-focus"),"HTML"!==e.nodeName&&e.nodeName||(e=window),this.$target=e},maybeSetTarget(e){"mouseDown"===e.pointer.state&&e.pointer.$target&&this.selectTarget(this.recursivelyFindScrollbar(e.pointer.$target))},recursivelyFindScrollbar(e){const t=e&&e.getBoundingClientRect?getComputedStyle(e):{};return e&&e.scrollHeight>e.clientHeight&&("auto"===t.overflow||"auto scroll"===t.overflow||"auto"===t.overflowY||"auto scroll"===t.overflowY)?e:e&&e.parentElement?this.recursivelyFindScrollbar(e.parentElement):window}};const ui={start:"mousedown",held:"mousemove",released:"mouseup"};let fi=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}];const pi={facePointer:li,faceClick:di,faceScroll:ci,pinchScroll:{models:"hands",tags:["browser"],enabled:!1,numFramesFocused:[0,0,0,0],$target:[null,null,null,null],origScrollLeft:[0,0,0,0],origScrollTop:[0,0,0,0],tweenScroll:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],config:{framesToFocus:10,threshold:50,numThresholdErrorFrames:5,speed:1},onFrame({hands:e}){setTimeout((()=>{if(!e.pointer)return;const t=this.handsfree.debug.$canvas.hands.height,i=this.handsfree.debug.$canvas.hands.width;e.pointer.forEach(((n,s)=>{var r,a;if(n.isVisible&&!(s>e.origPinch.length)){if("start"===(null===(r=e.pinchState[s])||void 0===r?void 0:r[0])){let e=document.elementFromPoint(n.x,n.y);this.$target[s]=this.getTarget(e),this.tweenScroll[s].x=this.origScrollLeft[s]=this.getTargetScrollLeft(this.$target[s]),this.tweenScroll[s].y=this.origScrollTop[s]=this.getTargetScrollTop(this.$target[s]),this.handsfree.TweenMax.killTweensOf(this.tweenScroll[s])}"held"===(null===(a=e.pinchState[s])||void 0===a?void 0:a[0])&&this.$target[s]&&(this.handsfree.TweenMax.to(this.tweenScroll[s],1,{x:this.tweenScroll[s].x-(e.origPinch[s][0].x-e.curPinch[s][0].x)*i*this.config.speed,y:this.tweenScroll[s].y+(e.origPinch[s][0].y-e.curPinch[s][0].y)*t*this.config.speed,overwrite:!0,ease:"linear.easeNone",immediateRender:!0}),this.$target[s].scrollTo(this.tweenScroll[s].x,this.tweenScroll[s].y))}}))}))},getTarget(e){const t=e&&e.getBoundingClientRect?getComputedStyle(e):{};return e&&e.scrollHeight>e.clientHeight&&("auto"===t.overflow||"auto scroll"===t.overflow||"auto"===t.overflowY||"auto scroll"===t.overflowY)?e:e&&e.parentElement?this.getTarget(e.parentElement):window},getTargetScrollLeft:e=>e.scrollX||e.scrollLeft||0,getTargetScrollTop:e=>e.scrollY||e.scrollTop||0},pinchers:{models:"hands",enabled:!0,tags:["core"],fingertipIndex:[8,12,16,20],numFramesFocused:[[0,0,0,0],[0,0,0,0]],thresholdMet:[[0,0,0,0],[0,0,0,0]],framesSinceLastGrab:[[0,0,0,0],[0,0,0,0]],origPinch:[[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]],curPinch:[[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]],pinchDowned:[[0,0,0,0],[0,0,0,0]],pinchDown:[[!1,!1,!1,!1],[!1,!1,!1,!1]],pinchUp:[[!1,!1,!1,!1],[!1,!1,!1,!1]],tween:[[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]],numFramesFocused:[[0,0,0,0],[0,0,0,0]],mouseDowned:0,mouseUp:!1,mouseThresholdMet:!1,config:{framesToFocus:10,threshold:50,numThresholdErrorFrames:5,maxMouseDownedFrames:1},onUse(){this.$target=window},onFrame({hands:e}){if(!e.multiHandLandmarks)return;const t=this.handsfree.debug.$canvas.hands.height,i=e.multiHandedness.some((e=>"Right"===e.label)),n=e.multiHandedness.some((e=>"Left"===e.label));for(let i=0;i<e.multiHandLandmarks.length;i++){let n="Right"===e.multiHandedness[i].label?0:1;for(let s=0;s<4;s++){const r=e.multiHandLandmarks[i][4].x-e.multiHandLandmarks[i][this.fingertipIndex[s]].x,a=e.multiHandLandmarks[i][4].y-e.multiHandLandmarks[i][this.fingertipIndex[s]].y,o=Math.sqrt(r*r+a*a)*t;(this.thresholdMet[n][s]=o<this.config.threshold)&&(this.curPinch[n][s]=e.multiHandLandmarks[i][4],this.framesSinceLastGrab[n][s]>this.config.numThresholdErrorFrames&&(this.origPinch[n][s]=e.multiHandLandmarks[i][4],this.handsfree.TweenMax.killTweensOf(this.tween[n][s])),this.framesSinceLastGrab[n][s]=0),++this.framesSinceLastGrab[n][s]}}e.origPinch=this.origPinch,e.curPinch=this.curPinch,this.handsfree.data.hands=this.getPinchStates(e,i,n)},getPinchStates(e,t,i){const n=[t,i];e.pinchState=[["","","",""],["","","",""]];for(let t=0;t<2;t++)for(let i=0;i<4;i++)n[t]&&this.thresholdMet[t][i]?(this.pinchDowned[t][i]++,document.body.classList.add(`handsfree-finger-pinched-${t}-${i}`,`handsfree-finger-pinched-${i}`)):(this.pinchUp[t][i]=this.pinchDowned[t][i],this.pinchDowned[t][i]=0,document.body.classList.remove(`handsfree-finger-pinched-${t}-${i}`,`handsfree-finger-pinched-${i}`)),this.pinchDowned[t][i]>0&&this.pinchDowned[t][i]<=this.config.maxMouseDownedFrames?e.pinchState[t][i]="start":this.pinchDowned[t][i]>this.config.maxMouseDownedFrames?e.pinchState[t][i]="held":this.pinchUp[t][i]?e.pinchState[t][i]="released":e.pinchState[t][i]="",e.pinchState[t][i]&&(this.handsfree.emit(`finger-pinched-${t}-${i}`,{event:e.pinchState[t][i],origPinch:e.origPinch[t][i],curPinch:e.curPinch[t][i]}),this.handsfree.emit(`finger-pinched-${e.pinchState[t][i]}-${t}-${i}`,{event:e.pinchState[t][i],origPinch:e.origPinch[t][i],curPinch:e.curPinch[t][i]}),this.handsfree.emit(`finger-pinched-${i}`,{event:e.pinchState[t][i],origPinch:e.origPinch[t][i],curPinch:e.curPinch[t][i]}),this.handsfree.emit(`finger-pinched-${e.pinchState[t][i]}-${i}`,{event:e.pinchState[t][i],origPinch:e.origPinch[t][i],curPinch:e.curPinch[t][i]}));return e}},palmPointers:{models:"hands",tags:["browser"],enabled:!1,$pointer:[],arePointersVisible:!0,pointer:[{x:-20,y:-20,isVisible:!1},{x:-20,y:-20,isVisible:!1},{x:-20,y:-20,isVisible:!1},{x:-20,y:-20,isVisible:!1}],tween:[{x:-20,y:-20},{x:-20,y:-20},{x:-20,y:-20},{x:-20,y:-20}],config:{offset:{x:0,y:0},speed:{x:1,y:1}},onUse(){for(let e=0;e<4;e++){const t=document.createElement("div");t.classList.add("handsfree-pointer","handsfree-pointer-palm","handsfree-hide-when-started-without-hands"),document.body.appendChild(t),this.$pointer[e]=t}this.enabled&&this.arePointersVisible?this.showPointers():this.hidePointers()},onEnable(){const e=this.arePointersVisible;this.showPointers(),this.arePointersVisible=e},onDisable(){const e=this.arePointersVisible;this.hidePointers(),this.arePointersVisible=e},onFrame({hands:e}){null!=e&&e.multiHandLandmarks?(e.pointer=[{isVisible:!1},{isVisible:!1},{isVisible:!1},{isVisible:!1}],e.multiHandLandmarks.forEach(((t,i)=>{var n,s;const r=e.pointer[i];let a;a=i<2?"Right"===e.multiHandedness[i].label?0:1:"Right"===e.multiHandedness[i].label?2:3,this.handsfree.TweenMax.to(this.tween[a],1,{x:window.outerWidth*this.config.speed.x-window.outerWidth*this.config.speed.x/2+window.outerWidth/2-e.multiHandLandmarks[i][21].x*this.config.speed.x*window.outerWidth+this.config.offset.x,y:e.multiHandLandmarks[i][21].y*window.outerHeight*this.config.speed.y-window.outerHeight*this.config.speed.y/2+window.outerHeight/2+this.config.offset.y,overwrite:!0,ease:"linear.easeNone",immediate:!0}),e.pointer[a]={x:this.tween[a].x,y:this.tween[a].y,isVisible:!0},this.$pointer[a].style.left=`${this.tween[a].x}px`,this.$pointer[a].style.top=`${this.tween[a].y}px`;let o=null==r||null===(n=r.pinchState)||void 0===n||null===(s=n[i])||void 0===s?void 0:s[0];if(o&&r.isVisible){o=ui[o];const e=document.elementFromPoint(r.x,r.y);e&&e.dispatchEvent(new MouseEvent(o,{view:window,button:0,bubbles:!0,cancelable:!0,clientX:r.x,clientY:r.y,movementX:r.x-fi[a].x,movementY:r.y-fi[a].y})),fi[a]=r}})),e.pointer.forEach(((e,t)=>{e.isVisible?this.$pointer[t].style.display="block":this.$pointer[t].style.display="none"}))):this.$pointer.forEach((e=>e.style.display="none"))},onDisable(){this.$pointer.forEach((e=>{e.classList.add("handsfree-hidden")}))},showPointers(){this.arePointersVisible=!0;for(let e=0;e<4;e++)this.$pointer[e].classList.remove("handsfree-hidden")},hidePointers(){this.arePointersVisible=!1;for(let e=0;e<4;e++)this.$pointer[e].classList.add("handsfree-hidden")}}};let mi=0;return class{constructor(e={}){this.throttle=ei,this.TweenMax=hi,this.id=++mi,this.version="8.4.4",this.data={},this.dependencies={loading:[],loaded:[]},this.mediapipeWarmups={isWarmingUp:!1,hands:!1,pose:!1,facemesh:!1},this.plugin={},this.taggedPlugins={untagged:[]},this.gesture={},this.taggedGestures={untagged:[]},this.config=this.cleanConfig(e),this.setupDebugger(),this.prepareModels(),this.loadCorePlugins(),this.hasAddedBodyClass=!1,this.isUpdating=!1,this.numModelsLoaded=0,this.on("modelReady",(()=>{let e=0;Object.keys(this.model).forEach((t=>{this.model[t].enabled&&++e})),++this.numModelsLoaded===e&&(document.body.classList.remove("handsfree-loading"),document.body.classList.add("handsfree-started"),this.hasAddedBodyClass=!0,!this.config.isClient&&(!this.isUpdating||this.isUpdating&&this.config.autostart)&&(this.isLooping=!0,this.loop()))})),this.emit("init",this)}prepareModels(){this.model={weboji:{},hands:{},facemesh:{},pose:{},handpose:{}},this.model.weboji=new c(this,this.config.weboji),this.model.hands=new o(this,this.config.hands),this.model.pose=new l(this,this.config.pose),this.model.facemesh=new h(this,this.config.facemesh),this.model.handpose=new d(this,this.config.handpose)}cleanConfig(e,t){return t||(t=Object.assign({},It)),t.setup.wrap.$parent=document.body,"boolean"==typeof e.weboji&&(e.weboji={enabled:e.weboji}),"boolean"==typeof e.hands&&(e.hands={enabled:e.hands}),"boolean"==typeof e.facemesh&&(e.facemesh={enabled:e.facemesh}),"boolean"==typeof e.pose&&(e.pose={enabled:e.pose}),"boolean"==typeof e.handpose&&(e.handpose={enabled:e.handpose}),e.plugin&&Object.keys(e.plugin).forEach((t=>{"boolean"==typeof e.plugin[t]&&(e.plugin[t]={enabled:e.plugin[t]})})),e.gesture&&Object.keys(e.gesture).forEach((t=>{"boolean"==typeof e.gesture[t]&&(e.gesture[t]={enabled:e.gesture[t]})})),Ht({},t,e)}update(e,t){this.config=this.cleanConfig(e,this.config),this.isUpdating=!0,this.isUsingWebcam=!this.config.setup.video.$el.currentSrc,this.debug.$video=this.config.setup.video.$el,this.debug.$video.width=this.config.setup.video.width,this.debug.$video.height=this.config.setup.video.height,["hands","facemesh","pose","handpose","weboji"].forEach((t=>{let i=this.model[t].enabled;this.config[t]=this.model[t].config=Ht({},this.model[t].config,e[t]),i&&!this.config[t].enabled?this.model[t].disable():!i&&this.config[t].enabled&&this.model[t].enable(!1)})),e.plugin&&Object.keys(e.plugin).forEach((t=>{"boolean"==typeof e.plugin[t].enabled&&(e.plugin[t].enabled?this.plugin[t].enable():this.plugin[t].disable())})),e.gesture&&Object.keys(e.gesture).forEach((t=>{"boolean"==typeof e.gesture[t].enabled&&(e.gesture[t].enabled?this.gesture[t].enable():this.gesture[t].disable())})),!this.config.isClient&&this.config.autostart?this.start(t):t&&t()}start(e){this.config=this.cleanConfig(this.config,this.config),this.isUpdating=!1,document.body.classList.add("handsfree-loading"),this.emit("loading",this),e&&this.on("modelReady",e,{once:!0}),this.numModelsLoaded=0,Object.keys(this.model).forEach((e=>{const t=this.model[e];t.enabled&&!t.dependenciesLoaded?t.loadDependencies():t.enabled&&(this.emit("modelReady",t),this.emit(`${e}ModelReady`,t))})),Object.keys(this.config.plugin).forEach((e=>{var t,i;"boolean"==typeof(null===(t=this.config.plugin)||void 0===t||null===(i=t[e])||void 0===i?void 0:i.enabled)&&this.config.plugin[e].enabled&&this.plugin[e].enable()})),Object.keys(this.config.gesture).forEach((e=>{var t,i;"boolean"==typeof(null===(t=this.config.gesture)||void 0===t||null===(i=t[e])||void 0===i?void 0:i.enabled)&&this.config.gesture[e].enabled&&this.gesture[e].enable()}))}stop(){location.reload()}pause(){this.isLooping=!1}unpause(){this.isLooping||(this.isLooping=!0,this.loop())}loop(){var e;Object.keys(this.model).forEach((e=>{const t=this.model[e];t.enabled&&t.dependenciesLoaded&&t.getData()})),this.emit("data",this.data),null===(e=this.taggedPlugins.untagged)||void 0===e||e.forEach((e=>{var t;this.plugin[e].enabled&&(null===(t=this.plugin[e])||void 0===t||t.onFrame(this.data))})),this.isDebugging&&["hands","pose","handpose","facemesh"].find((e=>{if(this.model[e].enabled)return e}))&&this.debug.context.video.drawImage(this.debug.$video,0,0,this.debug.$canvas.video.width,this.debug.$canvas.video.height),this.isLooping&&requestAnimationFrame((()=>this.isLooping&&this.loop()))}use(e,t){return"function"==typeof t&&(t={onFrame:t}),"string"==typeof(t=Ht({},{name:e,models:[],tags:[],enabled:!0,config:{},onFrame:null,onUse:null,onEnable:null,onDisable:null},t)).models&&(t.models=[t.models]),"string"==typeof t.tags&&(t.tags=[t.tags]),t.tags.forEach((t=>{this.taggedPlugins[t]||(this.taggedPlugins[t]=[]),this.taggedPlugins[t].push(e)})),this.plugin[e]=new zt(t,this),this.plugin[e].onUse&&this.plugin[e].onUse(),t.models.length?t.models.forEach((t=>{this.model[t].plugins.push(e)})):this.taggedPlugins.untagged.push(e),this.plugin[e]}enablePlugins(e){"string"==typeof e&&(e=[e]),e||(e=Object.keys(this.taggedPlugins)),e.forEach((e=>{this.taggedPlugins[e].forEach((e=>{this.plugin[e].enable()}))}))}disablePlugins(e){"string"==typeof e&&(e=[e]),e||(e=Object.keys(this.taggedPlugins)),e.forEach((e=>{this.taggedPlugins[e].forEach((e=>{this.plugin[e].disable()}))}))}runPlugins(e){var t;this.data=e,this.config.isClient&&!this.hasAddedBodyClass&&(document.body.classList.add("handsfree-started"),this.hasAddedBodyClass=!0),Object.keys(this.model).forEach((t=>{this.model[t].data=null==e?void 0:e[t],this.model[t].runPlugins()})),null===(t=this.taggedPlugins.untagged)||void 0===t||t.forEach((e=>{var t;this.plugin[e].enabled&&(null===(t=this.plugin[e])||void 0===t||t.onFrame(this.data))}))}useGesture(e){switch("string"==typeof(e=Ht({},{name:"untitled",description:[],models:[],tags:[],enabled:!0},e)).models&&(e.models=[e.models]),"string"==typeof e.tags&&(e.tags=[e.tags]),e.tags.forEach((t=>{this.taggedGestures[t]||(this.taggedGestures[t]=[]),this.taggedGestures[t].push(e.name)})),e.algorithm){case"fingerpose":this.gesture[e.name]=new Wt(e,this)}return e.models.length?e.models.forEach((t=>{this.model[t].gestures.push(e.name),this.model[t].updateGestureEstimator()})):this.taggedGestures.untagged.push(e.name),this.gesture[e.name]}enableGestures(e){"string"==typeof e&&(e=[e]),e||(e=Object.keys(this.taggedGestures)),e.forEach((e=>{this.taggedGestures[e].forEach((e=>{this.gesture[e].enable()}))}))}disableGestures(e){"string"==typeof e&&(e=[e]),e||(e=Object.keys(this.taggedGestures)),e.forEach((e=>{this.taggedGestures[e].forEach((e=>{this.gesture[e].disable()}))}))}emit(e,t=null){const i=new CustomEvent(`handsfree-${e}`,{detail:t});document.dispatchEvent(i)}on(e,t,i){document.addEventListener(`handsfree-${e}`,(e=>{t(e.detail)}),i)}normalize(e,t,i=0){return(e-i)/(t-i)}getUserMedia(e){var t,i;this.debug.stream||this.debug.isGettingStream?!this.debug.stream&&this.debug.isGettingStream?e&&this.on("gotUserMedia",e):(this.debug.$video.play(),this.emit("gotUserMedia",this.debug.stream),e&&e()):this.isUsingWebcam&&null!==(t=this.model.weboji)&&void 0!==t&&null!==(i=t.api)&&void 0!==i&&i.get_videoStream?(this.debug.$video=this.model.weboji.api.get_video(),this.debug.$video.srcObject=this.debug.stream=this.model.weboji.api.get_videoStream(),this.emit("gotUserMedia",this.debug.stream),e&&e()):this.isUsingWebcam?(this.debug.isGettingStream=!0,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:this.debug.$video.width,height:this.debug.$video.height}}).then((t=>{this.debug.$video.srcObject=this.debug.stream=t,this.debug.$video.onloadedmetadata=()=>{this.debug.$video.play(),this.emit("gotUserMedia",t),e&&e()}})).catch((e=>{console.error(`Error getting user media: ${e}`)})).finally((()=>{this.debug.isGettingStream=!1}))):(this.debug.stream=this.debug.$video.srcObject,this.debug.$video.play(),this.emit("gotUserMedia",this.debug.stream),e&&e(),this.debug.isGettingStream=!1)}loadCorePlugins(){Object.keys(pi).forEach((e=>{this.use(e,pi[e])}))}setupDebugger(){if(this.debug={},!this.config.setup.wrap.$el){const e=document.createElement("DIV");e.classList.add("handsfree-debugger"),this.config.setup.wrap.$el=e}if(this.debug.$wrap=this.config.setup.wrap.$el,this.config.setup.video.$el)this.debug.$video=this.config.setup.video.$el,this.isUsingWebcam=!1;else{const e=document.createElement("VIDEO");e.setAttribute("playsinline",!0),e.classList.add("handsfree-video"),e.setAttribute("id",`handsfree-video-${this.id}`),this.config.setup.video.$el=e,this.isUsingWebcam=!0,this.debug.$video=this.config.setup.video.$el,this.debug.$wrap.appendChild(this.debug.$video)}this.debug.$video.width=this.config.setup.video.width,this.debug.$video.height=this.config.setup.video.height,this.debug.$canvas={},this.debug.context={},this.config.setup.canvas.video={width:this.debug.$video.width,height:this.debug.$video.height},["video","weboji","facemesh","pose","hands","handpose"].forEach((e=>{this.debug.$canvas[e]={},this.debug.context[e]={};let t=this.config.setup.canvas[e].$el;t||(t=document.createElement("CANVAS"),this.config.setup.canvas[e].$el=t),t.classList.add("handsfree-canvas",`handsfree-canvas-${e}`,`handsfree-hide-when-started-without-${e}`),t.setAttribute("id",`handsfree-canvas-${e}-${this.id}`),this.debug.$canvas[e]=this.config.setup.canvas[e].$el,this.debug.$canvas[e].width=this.config.setup.canvas[e].width,this.debug.$canvas[e].height=this.config.setup.canvas[e].height,this.debug.$wrap.appendChild(this.debug.$canvas[e]),["weboji","handpose"].includes(e)?this.debug.$canvas[e].classList.add("handsfree-canvas-webgl"):this.debug.context[e]=this.debug.$canvas[e].getContext("2d")})),this.config.setup.wrap.$parent.appendChild(this.debug.$wrap),this.config.showDebug?this.showDebugger():this.hideDebugger()}showDebugger(){this.isDebugging=!0,document.body.classList.add("handsfree-show-debug"),document.body.classList.remove("handsfree-hide-debug")}hideDebugger(){this.isDebugging=!1,document.body.classList.remove("handsfree-show-debug"),document.body.classList.add("handsfree-hide-debug")}}}()}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(577);const t=new(i.n(e)())({hands:{enabled:!0,minDetectionConfidence:.5,maxNumHands:1,minTrackingConfidence:.5}});t.enablePlugins("browser"),t.start(),document.addEventListener("handsfree-finger-pinched-0-0",(e=>{"released"==t.data.hands.pinchState[0][0]&&(document.body.style.backgroundColor=`rgb( ${160*Math.random()}, ${180*Math.random()}, ${200*Math.random()} )`)}));let n=20;document.addEventListener("handsfree-finger-pinched-0-1",(e=>{"released"==t.data.hands.pinchState[0][1]&&(console.log(document.querySelector(".large")),n+=6,document.querySelector(".large").style.fontSize=`${n}px`)})),document.addEventListener("handsfree-finger-pinched-0-2",(e=>{"released"==t.data.hands.pinchState[0][2]&&(console.log(document.querySelector(".large")),n-=6,document.querySelector(".large").style.fontSize=`${n}px`)}))})()})();